var jsPDF=function(global){"use strict";function jsPDF(orientation,unit,format,compressPdf){var options={};"object"==typeof orientation&&(options=orientation,orientation=options.orientation,unit=options.unit||unit,format=options.format||format,compressPdf=options.compress||options.compressPdf||compressPdf),orientation="undefined"==typeof orientation?"p":orientation.toString().toLowerCase(),"undefined"==typeof unit&&(unit="mm"),"undefined"==typeof format&&(format="a4"),"undefined"==typeof compressPdf&&"undefined"==typeof zpipe&&(compressPdf=!1);var activeFontKey,pageHeight,pageWidth,k,tmp,plugin,wPt,hPt,kids,format_as_string=format.toString().toLowerCase(),content=[],content_length=0,compress=compressPdf,pdfVersion="1.3",pageFormats={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224]},textColor=options.textColor||"0 g",drawColor=options.drawColor||"0 G",page=0,pages=[],objectNumber=2,outToPages=!!options.outToPages,offsets=[],fonts={},fontmap={},activeFontSize=options.fontSize||16,lineWidth=options.lineWidth||.200025,lineHeightProportion=options.lineHeight||1.15,documentProperties={title:"",subject:"",author:"",keywords:"",creator:""},lineCapID=0,lineJoinID=0,API={},events=new PubSub(API),f2=function(number){return number.toFixed(2)},f3=function(number){return number.toFixed(3)},padd2=function(number){var n=number.toFixed(0);return 10>number?"0"+n:n},padd10=function(number){var n=number.toFixed(0);return n.length<10?new Array(11-n.length).join("0")+n:n},out=function(string){outToPages?pages[page].push(string):(content.push(string),content_length+=string.length+1)},newObject=function(){return objectNumber++,offsets[objectNumber]=content_length,out(objectNumber+" 0 obj"),objectNumber},putStream=function(str){out("stream"),out(str),out("endstream")},putPages=function(){wPt=pageWidth*k,hPt=pageHeight*k;var n,p,arr,i,deflater,adler32;for(n=1;page>=n;n++){if(newObject(),out("<</Type /Page"),out("/Parent 1 0 R"),out("/Resources 2 0 R"),out("/Contents "+(objectNumber+1)+" 0 R>>"),out("endobj"),p=pages[n].join("\n"),newObject(),compress){for(arr=[],i=0;i<p.length;++i)arr[i]=p.charCodeAt(i);adler32=adler32cs.from(p),deflater=new Deflater(6),deflater.append(new Uint8Array(arr)),p=deflater.flush(),arr=[new Uint8Array([120,156]),new Uint8Array(p),new Uint8Array([255&adler32,adler32>>8&255,adler32>>16&255,adler32>>24&255])],p="";for(i in arr)arr.hasOwnProperty(i)&&(p+=String.fromCharCode.apply(null,arr[i]));out("<</Length "+p.length+" /Filter [/FlateDecode]>>")}else out("<</Length "+p.length+">>");putStream(p),out("endobj")}for(offsets[1]=content_length,out("1 0 obj"),out("<</Type /Pages"),kids="/Kids [",i=0;page>i;i++)kids+=3+2*i+" 0 R ";out(kids+"]"),out("/Count "+page),out("/MediaBox [0 0 "+f2(wPt)+" "+f2(hPt)+"]"),out(">>"),out("endobj")},putFont=function(font){font.objectNumber=newObject(),out("<</BaseFont/"+font.PostScriptName+"/Type/Font"),"string"==typeof font.encoding&&out("/Encoding/"+font.encoding),out("/Subtype/Type1>>"),out("endobj")},putFonts=function(){var fontKey;for(fontKey in fonts)fonts.hasOwnProperty(fontKey)&&putFont(fonts[fontKey])},putXobjectDict=function(){events.publish("putXobjectDict")},putResourceDictionary=function(){out("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),out("/Font <<");var fontKey;for(fontKey in fonts)fonts.hasOwnProperty(fontKey)&&out("/"+fontKey+" "+fonts[fontKey].objectNumber+" 0 R");out(">>"),out("/XObject <<"),putXobjectDict(),out(">>")},putResources=function(){putFonts(),events.publish("putResources"),offsets[2]=content_length,out("2 0 obj"),out("<<"),putResourceDictionary(),out(">>"),out("endobj"),events.publish("postPutResources")},addToFontDictionary=function(fontKey,fontName,fontStyle){var undef;fontmap[fontName]===undef&&(fontmap[fontName]={}),fontmap[fontName][fontStyle]=fontKey},addFont=function(PostScriptName,fontName,fontStyle,encoding){var fontKey="F"+(getObjectLength(fonts)+1).toString(10),font=fonts[fontKey]={id:fontKey,PostScriptName:PostScriptName,fontName:fontName,fontStyle:fontStyle,encoding:encoding,metadata:{}};return addToFontDictionary(fontKey,fontName,fontStyle),events.publish("addFont",font),fontKey},addFonts=function(){var i,l,fontKey,parts,HELVETICA="helvetica",TIMES="times",COURIER="courier",NORMAL="normal",BOLD="bold",ITALIC="italic",BOLD_ITALIC="bolditalic",encoding="StandardEncoding",standardFonts=[["Helvetica",HELVETICA,NORMAL],["Helvetica-Bold",HELVETICA,BOLD],["Helvetica-Oblique",HELVETICA,ITALIC],["Helvetica-BoldOblique",HELVETICA,BOLD_ITALIC],["Courier",COURIER,NORMAL],["Courier-Bold",COURIER,BOLD],["Courier-Oblique",COURIER,ITALIC],["Courier-BoldOblique",COURIER,BOLD_ITALIC],["Times-Roman",TIMES,NORMAL],["Times-Bold",TIMES,BOLD],["Times-Italic",TIMES,ITALIC],["Times-BoldItalic",TIMES,BOLD_ITALIC]];for(i=0,l=standardFonts.length;l>i;i++)fontKey=addFont(standardFonts[i][0],standardFonts[i][1],standardFonts[i][2],encoding),parts=standardFonts[i][0].split("-"),addToFontDictionary(fontKey,parts[0],parts[1]||"");events.publish("addFonts",{fonts:fonts,dictionary:fontmap})},to8bitStream=function(text,flags){var i,l,undef,sourceEncoding,encodingBlock,outputEncoding,newtext,isUnicode,ch,bch;if(flags===undef&&(flags={}),sourceEncoding=flags.sourceEncoding?sourceEncoding:"Unicode",outputEncoding=flags.outputEncoding,(flags.autoencode||outputEncoding)&&fonts[activeFontKey].metadata&&fonts[activeFontKey].metadata[sourceEncoding]&&fonts[activeFontKey].metadata[sourceEncoding].encoding&&(encodingBlock=fonts[activeFontKey].metadata[sourceEncoding].encoding,!outputEncoding&&fonts[activeFontKey].encoding&&(outputEncoding=fonts[activeFontKey].encoding),!outputEncoding&&encodingBlock.codePages&&(outputEncoding=encodingBlock.codePages[0]),"string"==typeof outputEncoding&&(outputEncoding=encodingBlock[outputEncoding]),outputEncoding)){for(isUnicode=!1,newtext=[],i=0,l=text.length;l>i;i++)ch=outputEncoding[text.charCodeAt(i)],newtext.push(ch?String.fromCharCode(ch):text[i]),newtext[i].charCodeAt(0)>>8&&(isUnicode=!0);text=newtext.join("")}for(i=text.length;isUnicode===undef&&0!==i;)text.charCodeAt(i-1)>>8&&(isUnicode=!0),i--;if(isUnicode){for(newtext=flags.noBOM?[]:[254,255],i=0,l=text.length;l>i;i++){if(ch=text.charCodeAt(i),bch=ch>>8,bch>>8)throw new Error("Character at position "+i.toString(10)+" of string '"+text+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");newtext.push(bch),newtext.push(ch-(bch<<8))}return String.fromCharCode.apply(undef,newtext)}return text},pdfEscape=function(text,flags){return to8bitStream(text,flags).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},putInfo=function(){out("/Producer (jsPDF "+jsPDF.version+")"),documentProperties.title&&out("/Title ("+pdfEscape(documentProperties.title)+")"),documentProperties.subject&&out("/Subject ("+pdfEscape(documentProperties.subject)+")"),documentProperties.author&&out("/Author ("+pdfEscape(documentProperties.author)+")"),documentProperties.keywords&&out("/Keywords ("+pdfEscape(documentProperties.keywords)+")"),documentProperties.creator&&out("/Creator ("+pdfEscape(documentProperties.creator)+")");var created=new Date;out("/CreationDate (D:"+[created.getFullYear(),padd2(created.getMonth()+1),padd2(created.getDate()),padd2(created.getHours()),padd2(created.getMinutes()),padd2(created.getSeconds())].join("")+")")},putCatalog=function(){out("/Type /Catalog"),out("/Pages 1 0 R"),out("/OpenAction [3 0 R /FitH null]"),out("/PageLayout /OneColumn"),events.publish("putCatalog")},putTrailer=function(){out("/Size "+(objectNumber+1)),out("/Root "+objectNumber+" 0 R"),out("/Info "+(objectNumber-1)+" 0 R")},beginPage=function(){page++,outToPages=!0,pages[page]=[]},_addPage=function(){beginPage(),out(f2(lineWidth*k)+" w"),out(drawColor),0!==lineCapID&&out(lineCapID.toString(10)+" J"),0!==lineJoinID&&out(lineJoinID.toString(10)+" j"),events.publish("addPage",{pageNumber:page})},getFont=function(fontName,fontStyle){var key,undef;fontName===undef&&(fontName=fonts[activeFontKey].fontName),fontStyle===undef&&(fontStyle=fonts[activeFontKey].fontStyle);try{key=fontmap[fontName][fontStyle]}catch(e){key=undef}if(!key)throw new Error("Unable to look up font label for font '"+fontName+"', '"+fontStyle+"'. Refer to getFontList() for available fonts.");return key},buildDocument=function(){outToPages=!1,objectNumber=2,content=[],offsets=[],out("%PDF-"+pdfVersion),putPages(),putResources(),newObject(),out("<<"),putInfo(),out(">>"),out("endobj"),newObject(),out("<<"),putCatalog(),out(">>"),out("endobj");var i,o=content_length;for(out("xref"),out("0 "+(objectNumber+1)),out("0000000000 65535 f "),i=1;objectNumber>=i;i++)out(padd10(offsets[i])+" 00000 n ");return out("trailer"),out("<<"),putTrailer(),out(">>"),out("startxref"),out(o),out("%%EOF"),outToPages=!0,content.join("\n")},getStyle=function(style){var op="S";return"F"===style?op="f":("FD"===style||"DF"===style)&&(op="B"),op},getBlob=function(){var data,length,array,i,blob;for(data=buildDocument(),length=data.length,array=new Uint8Array(new ArrayBuffer(length)),i=0;length>i;i++)array[i]=data.charCodeAt(i);return blob=new Blob([array],{type:"application/pdf"})},output=function(type,options){var undef;switch(type){case undef:return buildDocument();case"save":if(navigator.getUserMedia){if(void 0===global.URL)return API.output("dataurlnewwindow");if(void 0===global.URL.createObjectURL)return API.output("dataurlnewwindow")}saveAs(getBlob(),options);break;case"blob":return getBlob();case"datauristring":case"dataurlstring":return"data:application/pdf;base64,"+btoa(buildDocument());case"datauri":case"dataurl":document.location.href="data:application/pdf;base64,"+btoa(buildDocument());break;case"dataurlnewwindow":global.open("data:application/pdf;base64,"+btoa(buildDocument()));break;default:throw new Error('Output type "'+type+'" is not supported.')}};if("pt"===unit)k=1;else if("mm"===unit)k=72/25.4;else if("cm"===unit)k=72/2.54;else{if("in"!==unit)throw"Invalid unit: "+unit;k=72}if(pageFormats.hasOwnProperty(format_as_string))pageHeight=pageFormats[format_as_string][1]/k,pageWidth=pageFormats[format_as_string][0]/k;else try{pageHeight=format[1],pageWidth=format[0]}catch(err){throw"Invalid format: "+format}if("p"===orientation||"portrait"===orientation)orientation="p",pageWidth>pageHeight&&(tmp=pageWidth,pageWidth=pageHeight,pageHeight=tmp);else{if("l"!==orientation&&"landscape"!==orientation)throw"Invalid orientation: "+orientation;orientation="l",pageHeight>pageWidth&&(tmp=pageWidth,pageWidth=pageHeight,pageHeight=tmp)}API.internal={pdfEscape:pdfEscape,getStyle:getStyle,getFont:function(){return fonts[getFont.apply(API,arguments)]},getFontSize:function(){return activeFontSize},getLineHeight:function(){return activeFontSize*lineHeightProportion},btoa:btoa,write:function(string1){out(1===arguments.length?string1:Array.prototype.join.call(arguments," "))},getCoordinateString:function(value){return f2(value*k)},getVerticalCoordinateString:function(value){return f2((pageHeight-value)*k)},collections:{},newObject:newObject,putStream:putStream,events:events,scaleFactor:k,pageSize:{width:pageWidth,height:pageHeight},output:function(type,options){return output(type,options)},getNumberOfPages:function(){return pages.length-1},pages:pages},API.addPage=function(){return _addPage(),this},API.text=function(text,x,y,flags,angle){if("number"==typeof text){var tmp=y;y=x,x=text,text=tmp}"string"==typeof text&&text.match(/[\n\r]/)&&(text=text.split(/\r\n|\r|\n/g)),"number"==typeof flags&&(angle=flags,flags=null);var xtra="",mode="Td";if(angle){angle*=Math.PI/180;var c=Math.cos(angle),s=Math.sin(angle);xtra=[f2(c),f2(s),f2(-1*s),f2(c),""].join(" "),mode="Tm"}if(flags=flags||{},"noBOM"in flags||(flags.noBOM=!0),"autoencode"in flags||(flags.autoencode=!0),"string"==typeof text)text=pdfEscape(text,flags);else{if(!(text instanceof Array))throw new Error('Type of text must be string or Array. "'+text+'" is not recognized.');for(var sa=text.concat(),da=[],len=sa.length;len--;)da.push(pdfEscape(sa.shift(),flags));text=da.join(") Tj\nT* (")}return out("BT\n/"+activeFontKey+" "+activeFontSize+" Tf\n"+activeFontSize*lineHeightProportion+" TL\n"+textColor+"\n"+xtra+f2(x*k)+" "+f2((pageHeight-y)*k)+" "+mode+"\n("+text+") Tj\nET"),this},API.line=function(x1,y1,x2,y2){return out(f2(x1*k)+" "+f2((pageHeight-y1)*k)+" m "+f2(x2*k)+" "+f2((pageHeight-y2)*k)+" l S"),this},API.lines=function(lines,x,y,scale,style,closed){var undef,_first,_second,_third,scalex,scaley,i,l,leg,x2,y2,x3,y3,x4,y4;for("number"==typeof lines&&(_first=y,_second=lines,_third=x,lines=_first,x=_second,y=_third),style=getStyle(style),scale=scale===undef?[1,1]:scale,out(f3(x*k)+" "+f3((pageHeight-y)*k)+" m "),scalex=scale[0],scaley=scale[1],l=lines.length,x4=x,y4=y,i=0;l>i;i++)leg=lines[i],2===leg.length?(x4=leg[0]*scalex+x4,y4=leg[1]*scaley+y4,out(f3(x4*k)+" "+f3((pageHeight-y4)*k)+" l")):(x2=leg[0]*scalex+x4,y2=leg[1]*scaley+y4,x3=leg[2]*scalex+x4,y3=leg[3]*scaley+y4,x4=leg[4]*scalex+x4,y4=leg[5]*scaley+y4,out(f3(x2*k)+" "+f3((pageHeight-y2)*k)+" "+f3(x3*k)+" "+f3((pageHeight-y3)*k)+" "+f3(x4*k)+" "+f3((pageHeight-y4)*k)+" c"));return 1==closed&&out(" h"),out(style),this},API.rect=function(x,y,w,h,style){var op=getStyle(style);return out([f2(x*k),f2((pageHeight-y)*k),f2(w*k),f2(-h*k),"re",op].join(" ")),this},API.triangle=function(x1,y1,x2,y2,x3,y3,style){return this.lines([[x2-x1,y2-y1],[x3-x2,y3-y2],[x1-x3,y1-y3]],x1,y1,[1,1],style,!0),this},API.roundedRect=function(x,y,w,h,rx,ry,style){var MyArc=4/3*(Math.SQRT2-1);return this.lines([[w-2*rx,0],[rx*MyArc,0,rx,ry-ry*MyArc,rx,ry],[0,h-2*ry],[0,ry*MyArc,-(rx*MyArc),ry,-rx,ry],[-w+2*rx,0],[-(rx*MyArc),0,-rx,-(ry*MyArc),-rx,-ry],[0,-h+2*ry],[0,-(ry*MyArc),rx*MyArc,-ry,rx,-ry]],x+rx,y,[1,1],style),this},API.ellipse=function(x,y,rx,ry,style){var op=getStyle(style),lx=4/3*(Math.SQRT2-1)*rx,ly=4/3*(Math.SQRT2-1)*ry;return out([f2((x+rx)*k),f2((pageHeight-y)*k),"m",f2((x+rx)*k),f2((pageHeight-(y-ly))*k),f2((x+lx)*k),f2((pageHeight-(y-ry))*k),f2(x*k),f2((pageHeight-(y-ry))*k),"c"].join(" ")),out([f2((x-lx)*k),f2((pageHeight-(y-ry))*k),f2((x-rx)*k),f2((pageHeight-(y-ly))*k),f2((x-rx)*k),f2((pageHeight-y)*k),"c"].join(" ")),out([f2((x-rx)*k),f2((pageHeight-(y+ly))*k),f2((x-lx)*k),f2((pageHeight-(y+ry))*k),f2(x*k),f2((pageHeight-(y+ry))*k),"c"].join(" ")),out([f2((x+lx)*k),f2((pageHeight-(y+ry))*k),f2((x+rx)*k),f2((pageHeight-(y+ly))*k),f2((x+rx)*k),f2((pageHeight-y)*k),"c",op].join(" ")),this},API.circle=function(x,y,r,style){return this.ellipse(x,y,r,r,style)},API.setProperties=function(properties){var property;for(property in documentProperties)documentProperties.hasOwnProperty(property)&&properties[property]&&(documentProperties[property]=properties[property]);return this},API.setFontSize=function(size){return activeFontSize=size,this},API.setFont=function(fontName,fontStyle){return activeFontKey=getFont(fontName,fontStyle),this},API.setFontStyle=API.setFontType=function(style){var undef;return activeFontKey=getFont(undef,style),this},API.getFontList=function(){var fontName,fontStyle,tmp,list={};for(fontName in fontmap)if(fontmap.hasOwnProperty(fontName)){list[fontName]=tmp=[];for(fontStyle in fontmap[fontName])fontmap[fontName].hasOwnProperty(fontStyle)&&tmp.push(fontStyle)}return list},API.setLineWidth=function(width){return out((width*k).toFixed(2)+" w"),this},API.setDrawColor=function(ch1,ch2,ch3,ch4){var color;return color=void 0===ch2||void 0===ch4&&ch1===ch2===ch3?"string"==typeof ch1?ch1+" G":f2(ch1/255)+" G":void 0===ch4?"string"==typeof ch1?[ch1,ch2,ch3,"RG"].join(" "):[f2(ch1/255),f2(ch2/255),f2(ch3/255),"RG"].join(" "):"string"==typeof ch1?[ch1,ch2,ch3,ch4,"K"].join(" "):[f2(ch1),f2(ch2),f2(ch3),f2(ch4),"K"].join(" "),out(color),this},API.setFillColor=function(ch1,ch2,ch3,ch4){var color;return color=void 0===ch2||void 0===ch4&&ch1===ch2===ch3?"string"==typeof ch1?ch1+" g":f2(ch1/255)+" g":void 0===ch4?"string"==typeof ch1?[ch1,ch2,ch3,"rg"].join(" "):[f2(ch1/255),f2(ch2/255),f2(ch3/255),"rg"].join(" "):"string"==typeof ch1?[ch1,ch2,ch3,ch4,"k"].join(" "):[f2(ch1),f2(ch2),f2(ch3),f2(ch4),"k"].join(" "),out(color),this},API.setTextColor=function(r,g,b){var patt=/#[0-9A-Fa-f]{6}/;if("string"==typeof r&&patt.test(r)){var hex=r.replace("#",""),bigint=parseInt(hex,16);r=bigint>>16&255,g=bigint>>8&255,b=255&bigint}return textColor=0===r&&0===g&&0===b||"undefined"==typeof g?f3(r/255)+" g":[f3(r/255),f3(g/255),f3(b/255),"rg"].join(" "),this},API.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},API.setLineCap=function(style){var id=this.CapJoinStyles[style];if(void 0===id)throw new Error("Line cap style of '"+style+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lineCapID=id,out(id.toString(10)+" J"),this},API.setLineJoin=function(style){var id=this.CapJoinStyles[style];if(void 0===id)throw new Error("Line join style of '"+style+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lineJoinID=id,out(id.toString(10)+" j"),this},API.output=output,API.save=function(filename){API.output("save",filename)};for(plugin in jsPDF.API)jsPDF.API.hasOwnProperty(plugin)&&("events"===plugin&&jsPDF.API.events.length?!function(events,newEvents){var eventname,handler_and_args,i;for(i=newEvents.length-1;-1!==i;i--)eventname=newEvents[i][0],handler_and_args=newEvents[i][1],events.subscribe.apply(events,[eventname].concat("function"==typeof handler_and_args?[handler_and_args]:handler_and_args))}(events,jsPDF.API.events):API[plugin]=jsPDF.API[plugin]);return addFonts(),activeFontKey="F1",_addPage(),events.publish("initialized"),API}"undefined"==typeof btoa&&(global.btoa=function(data){var o1,o2,o3,h1,h2,h3,h4,bits,r,b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b64a=b64.split(""),i=0,ac=0,enc="",tmp_arr=[];do o1=data.charCodeAt(i++),o2=data.charCodeAt(i++),o3=data.charCodeAt(i++),bits=o1<<16|o2<<8|o3,h1=bits>>18&63,h2=bits>>12&63,h3=bits>>6&63,h4=63&bits,tmp_arr[ac++]=b64a[h1]+b64a[h2]+b64a[h3]+b64a[h4];while(i<data.length);return enc=tmp_arr.join(""),r=data.length%3,(r?enc.slice(0,r-3):enc)+"===".slice(r||3)}),"undefined"==typeof atob&&(global.atob=function(data){var o1,o2,o3,h1,h2,h3,h4,bits,b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=0,ac=0,dec="",tmp_arr=[];if(!data)return data;data+="";do h1=b64.indexOf(data.charAt(i++)),h2=b64.indexOf(data.charAt(i++)),h3=b64.indexOf(data.charAt(i++)),h4=b64.indexOf(data.charAt(i++)),bits=h1<<18|h2<<12|h3<<6|h4,o1=bits>>16&255,o2=bits>>8&255,o3=255&bits,tmp_arr[ac++]=64===h3?String.fromCharCode(o1):64===h4?String.fromCharCode(o1,o2):String.fromCharCode(o1,o2,o3);while(i<data.length);return dec=tmp_arr.join("")});var getObjectLength="function"==typeof Object.keys?function(object){return Object.keys(object).length}:function(object){var e,i=0;for(e in object)object.hasOwnProperty(e)&&i++;return i};return global.PubSub=function(context){this.topics={},this.context=context,this.publish=function(topic,args){if(this.topics[topic]){var fn,i,l,pair,currentTopic=this.topics[topic],toremove=[],emptyFunc=function(){};for(args=Array.prototype.slice.call(arguments,1),i=0,l=currentTopic.length;l>i;i++)pair=currentTopic[i],fn=pair[0],pair[1]&&(pair[0]=emptyFunc,toremove.push(i)),fn.apply(this.context,args);for(i=0,l=toremove.length;l>i;i++)currentTopic.splice(toremove[i],1)}},this.subscribe=function(topic,callback,once){return this.topics[topic]?this.topics[topic].push([callback,once]):this.topics[topic]=[[callback,once]],{topic:topic,callback:callback}},this.unsubscribe=function(token){if(this.topics[token.topic]){var i,l,currentTopic=this.topics[token.topic];for(i=0,l=currentTopic.length;l>i;i++)currentTopic[i][0]===token.callback&&currentTopic.splice(i,1)}}},jsPDF.API={events:[]},jsPDF.version="1.0.0-trunk","function"==typeof define?define(function(){return jsPDF}):global.jsPDF=jsPDF,jsPDF}(self);!function(API){"use strict";var getCharWidthsArray=API.getCharWidthsArray=function(text,options){options||(options={});var i,l,char_code,widths=options.widths?options.widths:this.internal.getFont().metadata.Unicode.widths,widthsFractionOf=widths.fof?widths.fof:1,kerning=options.kerning?options.kerning:this.internal.getFont().metadata.Unicode.kerning,kerningFractionOf=kerning.fof?kerning.fof:1,prior_char_code=0,default_char_width=widths[0]||widthsFractionOf,output=[];for(i=0,l=text.length;l>i;i++)char_code=text.charCodeAt(i),output.push((widths[char_code]||default_char_width)/widthsFractionOf+(kerning[char_code]&&kerning[char_code][prior_char_code]||0)/kerningFractionOf),prior_char_code=char_code;return output},getArraySum=function(array){for(var i=array.length,output=0;i;)i--,output+=array[i];return output},splitLongWord=(API.getStringUnitWidth=function(text,options){return getArraySum(getCharWidthsArray.call(this,text,options))},function(word,widths_array,firstLineMaxLen,maxLen){for(var answer=[],i=0,l=word.length,workingLen=0;i!==l&&workingLen+widths_array[i]<firstLineMaxLen;)workingLen+=widths_array[i],i++;answer.push(word.slice(0,i));var startOfLine=i;for(workingLen=0;i!==l;)workingLen+widths_array[i]>maxLen&&(answer.push(word.slice(startOfLine,i)),workingLen=0,startOfLine=i),workingLen+=widths_array[i],i++;return startOfLine!==i&&answer.push(word.slice(startOfLine,i)),answer}),splitParagraphIntoLines=function(text,maxlen,options){options||(options={});var word,widths_array,i,l,tmp,spaceCharWidth=getCharWidthsArray(" ",options)[0],words=text.split(" "),line=[],lines=[line],line_length=options.textIndent||0,separator_length=0,current_word_length=0;for(i=0,l=words.length;l>i;i++)if(word=words[i],widths_array=getCharWidthsArray(word,options),current_word_length=getArraySum(widths_array),line_length+separator_length+current_word_length>maxlen){if(current_word_length>maxlen){for(tmp=splitLongWord(word,widths_array,maxlen-(line_length+separator_length),maxlen),line.push(tmp.shift()),line=[tmp.pop()];tmp.length;)lines.push([tmp.shift()]);current_word_length=getArraySum(widths_array.slice(word.length-line[0].length))}else line=[word];lines.push(line),line_length=current_word_length,separator_length=spaceCharWidth}else line.push(word),line_length+=separator_length+current_word_length,separator_length=spaceCharWidth;var output=[];for(i=0,l=lines.length;l>i;i++)output.push(lines[i].join(" "));return output};API.splitTextToSize=function(text,maxlen,options){options||(options={});var paragraphs,fsize=options.fontSize||this.internal.getFontSize(),newOptions=function(options){var widths={0:1},kerning={};if(options.widths&&options.kerning)return{widths:options.widths,kerning:options.kerning};var f=this.internal.getFont(options.fontName,options.fontStyle),encoding="Unicode";return f.metadata[encoding]?{widths:f.metadata[encoding].widths||widths,kerning:f.metadata[encoding].kerning||kerning}:{widths:widths,kerning:kerning}}.call(this,options);paragraphs=text.match(/[\n\r]/)?text.split(/\r\n|\r|\n/g):[text];var fontUnit_maxLen=1*this.internal.scaleFactor*maxlen/fsize;newOptions.textIndent=options.textIndent?1*options.textIndent*this.internal.scaleFactor/fsize:0;var i,l,output=[];for(i=0,l=paragraphs.length;l>i;i++)output=output.concat(splitParagraphIntoLines(paragraphs[i],fontUnit_maxLen,newOptions));return output}}(jsPDF.API),function(jsPDFAPI){"use strict";var namespace="addImage_",supported_image_types=["jpeg","jpg","png"],putImage=function(img){var objectNumber=this.internal.newObject(),out=this.internal.write,putStream=this.internal.putStream;if(img.n=objectNumber,out("<</Type /XObject"),out("/Subtype /Image"),out("/Width "+img.w),out("/Height "+img.h),img.cs===this.color_spaces.INDEXED?out("/ColorSpace [/Indexed /DeviceRGB "+(img.pal.length/3-1)+" "+("smask"in img?objectNumber+2:objectNumber+1)+" 0 R]"):(out("/ColorSpace /"+img.cs),img.cs===this.color_spaces.DEVICE_CMYK&&out("/Decode [1 0 1 0 1 0 1 0]")),out("/BitsPerComponent "+img.bpc),"f"in img&&out("/Filter /"+img.f),"dp"in img&&out("/DecodeParms <<"+img.dp+">>"),"trns"in img&&img.trns.constructor==Array){for(var trns="",i=0,len=img.trns.length;len>i;i++)trns+=img.trns[i]+" "+img.trns[i]+" ";out("/Mask ["+trns+"]")}if("smask"in img&&out("/SMask "+(objectNumber+1)+" 0 R"),out("/Length "+img.data.length+">>"),putStream(img.data),out("endobj"),"smask"in img){var dp="/Predictor 15 /Colors 1 /BitsPerComponent "+img.bpc+" /Columns "+img.w,smask={w:img.w,h:img.h,cs:"DeviceGray",bpc:img.bpc,dp:dp,data:img.smask};"f"in img&&(smask.f=img.f),putImage.call(this,smask)}img.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),out("<< /Length "+img.pal.length+">>"),putStream(this.arrayBufferToBinaryString(new Uint8Array(img.pal))),out("endobj"))},putResourcesCallback=function(){var images=this.internal.collections[namespace+"images"];for(var i in images)putImage.call(this,images[i])},putXObjectsDictCallback=function(){var image,images=this.internal.collections[namespace+"images"],out=this.internal.write;for(var i in images)image=images[i],out("/I"+image.i,image.n,"0","R")},checkCompressValue=function(value){return value&&"string"==typeof value&&(value=value.toUpperCase()),value in jsPDFAPI.image_compression?value:jsPDFAPI.image_compression.NONE},getImages=function(){var images=this.internal.collections[namespace+"images"];return images||(this.internal.collections[namespace+"images"]=images={},this.internal.events.subscribe("putResources",putResourcesCallback),this.internal.events.subscribe("putXobjectDict",putXObjectsDictCallback)),images},getImageIndex=function(images){var imageIndex=0;return images&&(imageIndex=Object.keys?Object.keys(images).length:function(o){var i=0;for(var e in o)o.hasOwnProperty(e)&&i++;return i}(images)),imageIndex},notDefined=function(value){return"undefined"==typeof value||null===value},generateAliasFromData=function(){return void 0},doesNotSupportImageType=function(type){return-1===supported_image_types.indexOf(type)},processMethodNotEnabled=function(type){return"function"!=typeof jsPDFAPI["process"+type.toUpperCase()]},isDOMElement=function(object){return"object"==typeof object&&1===object.nodeType},createDataURIFromElement=function(imageData,format){var canvas=document.createElement("canvas");canvas.width=imageData.clientWidth||imageData.width,canvas.height=imageData.clientHeight||imageData.height;var ctx=canvas.getContext("2d");if(!ctx)throw"addImage requires canvas to be supported by browser.";return ctx.drawImage(imageData,0,0,canvas.width,canvas.height),canvas.toDataURL("png"==format?"image/png":"image/jpeg")},checkImagesForAlias=function(imageData,images){var cached_info;if(images)for(var e in images)if(imageData===images[e].alias){cached_info=images[e];break}return cached_info},determineWidthAndHeight=function(info,w,h,scaleFactor){return w||h||(w=-96,h=-96),0>w&&(w=-1*info.w*72/w/scaleFactor),0>h&&(h=-1*info.h*72/h/scaleFactor),0===w&&(w=h*info.w/info.h),0===h&&(h=w*info.h/info.w),[w,h]},writeImageToPDF=function(x,y,w,h,info,index,images){var dims=determineWidthAndHeight(info,w,h,this.internal.scaleFactor),coord=this.internal.getCoordinateString,vcoord=this.internal.getVerticalCoordinateString;w=dims[0],h=dims[1],images[index]=info,this.internal.write("q",coord(w),"0 0",coord(h),coord(x),vcoord(y+h),"cm /I"+info.i,"Do Q")};jsPDFAPI.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPERATION:"Seperation",DEVICE_N:"DeviceN"},jsPDFAPI.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},jsPDFAPI.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},jsPDFAPI.isString=function(object){return"string"==typeof object},jsPDFAPI.extractInfoFromBase64DataURI=function(dataURI){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(dataURI)},jsPDFAPI.supportsArrayBuffer=function(){return"function"==typeof ArrayBuffer},jsPDFAPI.isArrayBuffer=function(object){return this.supportsArrayBuffer()?object instanceof ArrayBuffer:!1},jsPDFAPI.isArrayBufferView=function(object){return this.supportsArrayBuffer()?object instanceof Int8Array||object instanceof Uint8Array||object instanceof Uint8ClampedArray||object instanceof Int16Array||object instanceof Uint16Array||object instanceof Int32Array||object instanceof Uint32Array||object instanceof Float32Array||object instanceof Float64Array:!1},jsPDFAPI.binaryStringToUint8Array=function(binary_string){for(var len=binary_string.length,bytes=new Uint8Array(len),i=0;len>i;i++)bytes[i]=binary_string.charCodeAt(i);return bytes},jsPDFAPI.arrayBufferToBinaryString=function(buffer){this.isArrayBuffer(buffer)&&(buffer=new Uint8Array(buffer));for(var binary_string="",len=buffer.byteLength,i=0;len>i;i++)binary_string+=String.fromCharCode(buffer[i]);return binary_string},jsPDFAPI.arrayBufferToBase64=function(arrayBuffer){for(var a,b,c,d,chunk,base64="",encodings="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bytes=new Uint8Array(arrayBuffer),byteLength=bytes.byteLength,byteRemainder=byteLength%3,mainLength=byteLength-byteRemainder,i=0;mainLength>i;i+=3)chunk=bytes[i]<<16|bytes[i+1]<<8|bytes[i+2],a=(16515072&chunk)>>18,b=(258048&chunk)>>12,c=(4032&chunk)>>6,d=63&chunk,base64+=encodings[a]+encodings[b]+encodings[c]+encodings[d];return 1==byteRemainder?(chunk=bytes[mainLength],a=(252&chunk)>>2,b=(3&chunk)<<4,base64+=encodings[a]+encodings[b]+"=="):2==byteRemainder&&(chunk=bytes[mainLength]<<8|bytes[mainLength+1],a=(64512&chunk)>>10,b=(1008&chunk)>>4,c=(15&chunk)<<2,base64+=encodings[a]+encodings[b]+encodings[c]+"="),base64},jsPDFAPI.createImageInfo=function(data,wd,ht,cs,bpc,f,imageIndex,alias,dp,trns,pal,smask){var info={alias:alias,w:wd,h:ht,cs:cs,bpc:bpc,i:imageIndex,data:data};return f&&(info.f=f),dp&&(info.dp=dp),trns&&(info.trns=trns),pal&&(info.pal=pal),smask&&(info.smask=smask),info},jsPDFAPI.addImage=function(imageData,format,x,y,w,h,alias,compression){if("number"==typeof format){var tmp=h;h=w,w=y,y=x,x=format,format=tmp||"jpeg"}var cached_info,dataAsBinaryString,images=getImages.call(this);if(compression=checkCompressValue(compression),format=format.toLowerCase(),notDefined(alias)&&(alias=generateAliasFromData(imageData)),isDOMElement(imageData)&&(imageData=createDataURIFromElement(imageData,format)),this.isString(imageData)){var base64Info=this.extractInfoFromBase64DataURI(imageData);base64Info?(format=base64Info[2],imageData=atob(base64Info[3]),this.supportsArrayBuffer()&&(dataAsBinaryString=imageData,imageData=this.binaryStringToUint8Array(imageData))):255!==imageData.charCodeAt(0)&&(cached_info=checkImagesForAlias(imageData,images))}if(doesNotSupportImageType(format))throw new Error("addImage currently only supports formats "+supported_image_types+", not '"+format+"'");if(processMethodNotEnabled(format))throw new Error("please ensure that the plugin for '"+format+"' support is added");var imageIndex=getImageIndex(images),info=cached_info;if(info||(info=this["process"+format.toUpperCase()](imageData,imageIndex,alias,compression,dataAsBinaryString)),!info)throw new Error("An unkwown error occurred whilst processing the image");

return writeImageToPDF.call(this,x,y,w,h,info,imageIndex,images),this};var getJpegSize=function(imgData){var width,height;if(255===!imgData.charCodeAt(0)||216===!imgData.charCodeAt(1)||255===!imgData.charCodeAt(2)||224===!imgData.charCodeAt(3)||!imgData.charCodeAt(6)==="J".charCodeAt(0)||!imgData.charCodeAt(7)==="F".charCodeAt(0)||!imgData.charCodeAt(8)==="I".charCodeAt(0)||!imgData.charCodeAt(9)==="F".charCodeAt(0)||0===!imgData.charCodeAt(10))throw new Error("getJpegSize requires a binary string jpeg file");for(var blockLength=256*imgData.charCodeAt(4)+imgData.charCodeAt(5),i=4,len=imgData.length;len>i;){if(i+=blockLength,255!==imgData.charCodeAt(i))throw new Error("getJpegSize could not find the size of the image");if(192===imgData.charCodeAt(i+1)||193===imgData.charCodeAt(i+1)||194===imgData.charCodeAt(i+1)||195===imgData.charCodeAt(i+1)||196===imgData.charCodeAt(i+1)||197===imgData.charCodeAt(i+1)||198===imgData.charCodeAt(i+1)||199===imgData.charCodeAt(i+1))return height=256*imgData.charCodeAt(i+5)+imgData.charCodeAt(i+6),width=256*imgData.charCodeAt(i+7)+imgData.charCodeAt(i+8),[width,height];i+=2,blockLength=256*imgData.charCodeAt(i)+imgData.charCodeAt(i+1)}},getJpegSizeFromBytes=function(data){var hdr=data[0]<<8|data[1];if(65496!==hdr)throw new Error("Supplied data is not a JPEG");for(var bytes,width,height,len=data.length,block=(data[4]<<8)+data[5],pos=4;len>pos;){if(pos+=block,bytes=readBytes(data,pos),block=(bytes[2]<<8)+bytes[3],(192===bytes[1]||194===bytes[1])&&255===bytes[0]&&block>7)return bytes=readBytes(data,pos+5),width=(bytes[2]<<8)+bytes[3],height=(bytes[0]<<8)+bytes[1],{width:width,height:height};pos+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")},readBytes=function(data,offset){return data.subarray(offset,offset+4)};jsPDFAPI.processJPEG=function(data,index,alias,compression,dataAsBinaryString){var dims,colorSpace=this.color_spaces.DEVICE_RGB,filter=this.decode.DCT_DECODE,bpc=8;return this.isString(data)?(dims=getJpegSize(data),this.createImageInfo(data,dims[0],dims[1],colorSpace,bpc,filter,index,alias)):(this.isArrayBuffer(data)&&(data=new Uint8Array(data)),this.isArrayBufferView(data)?(dims=getJpegSizeFromBytes(data),data=dataAsBinaryString||this.arrayBufferToBinaryString(data),this.createImageInfo(data,dims.width,dims.height,colorSpace,bpc,filter,index,alias)):null)},jsPDFAPI.processJPG=function(data,index,alias,compression,dataAsBinaryString){return this.processJPEG(data,index,alias,compression,dataAsBinaryString)}}(jsPDF.API),function(jsPDFAPI){"use strict";var doesNotHavePngJS=function(){return"function"!=typeof PNG||"function"!=typeof FlateStream},canCompress=function(value){return value!==jsPDFAPI.image_compression.NONE&&hasCompressionJS()},hasCompressionJS=function(){var inst="function"==typeof Deflater;if(!inst)throw new Error("requires deflate.js for compression");return inst},compressBytes=function(bytes,lineLength,colorsPerPixel,compression){var level=5,filter_method=filterUp;switch(compression){case jsPDFAPI.image_compression.FAST:level=3,filter_method=filterSub;break;case jsPDFAPI.image_compression.MEDIUM:level=6,filter_method=filterAverage;break;case jsPDFAPI.image_compression.SLOW:level=9,filter_method=filterPaeth}bytes=applyPngFilterMethod(bytes,lineLength,colorsPerPixel,filter_method);var header=new Uint8Array(createZlibHeader(level)),checksum=adler32(bytes),deflate=new Deflater(level),a=deflate.append(bytes),cBytes=deflate.flush(),len=header.length+a.length+cBytes.length,cmpd=new Uint8Array(len+4);return cmpd.set(header),cmpd.set(a,header.length),cmpd.set(cBytes,header.length+a.length),cmpd[len++]=checksum>>>24&255,cmpd[len++]=checksum>>>16&255,cmpd[len++]=checksum>>>8&255,cmpd[len++]=255&checksum,jsPDFAPI.arrayBufferToBinaryString(cmpd)},createZlibHeader=function(bytes,level){var cm=8,cinfo=Math.LOG2E*Math.log(32768)-8,cmf=cinfo<<4|cm,hdr=cmf<<8,flevel=Math.min(3,(level-1&255)>>1);return hdr|=flevel<<6,hdr|=0,hdr+=31-hdr%31,[cmf,255&hdr&255]},adler32=function(array,param){for(var tlen,adler=1,s1=65535&adler,s2=adler>>>16&65535,len=array.length,i=0;len>0;){tlen=len>param?param:len,len-=tlen;do s1+=array[i++],s2+=s1;while(--tlen);s1%=65521,s2%=65521}return(s2<<16|s1)>>>0},applyPngFilterMethod=function(bytes,lineLength,colorsPerPixel,filter_method){for(var line,prevLine,offset,lines=bytes.length/lineLength,result=new Uint8Array(bytes.length+lines),filter_methods=getFilterMethods(),i=0;lines>i;i++){if(offset=i*lineLength,line=bytes.subarray(offset,offset+lineLength),filter_method)result.set(filter_method(line,colorsPerPixel,prevLine),offset+i);else{for(var j=0,len=filter_methods.length,results=[];len>j;j++)results[j]=filter_methods[j](line,colorsPerPixel,prevLine);var ind=getIndexOfSmallestSum(results.concat());result.set(results[ind],offset+i)}prevLine=line}return result},filterNone=function(line){var result=Array.apply([],line);return result.unshift(0),result},filterSub=function(line,colorsPerPixel){var left,result=[],i=0,len=line.length;for(result[0]=1;len>i;i++)left=line[i-colorsPerPixel]||0,result[i+1]=line[i]-left+256&255;return result},filterUp=function(line,colorsPerPixel,prevLine){var up,result=[],i=0,len=line.length;for(result[0]=2;len>i;i++)up=prevLine&&prevLine[i]||0,result[i+1]=line[i]-up+256&255;return result},filterAverage=function(line,colorsPerPixel,prevLine){var left,up,result=[],i=0,len=line.length;for(result[0]=3;len>i;i++)left=line[i-colorsPerPixel]||0,up=prevLine&&prevLine[i]||0,result[i+1]=line[i]+256-(left+up>>>1)&255;return result},filterPaeth=function(line,colorsPerPixel,prevLine){var left,up,upLeft,paeth,result=[],i=0,len=line.length;for(result[0]=4;len>i;i++)left=line[i-colorsPerPixel]||0,up=prevLine&&prevLine[i]||0,upLeft=prevLine&&prevLine[i-colorsPerPixel]||0,paeth=paethPredictor(left,up,upLeft),result[i+1]=line[i]-paeth+256&255;return result},paethPredictor=function(left,up,upLeft){var p=left+up-upLeft,pLeft=Math.abs(p-left),pUp=Math.abs(p-up),pUpLeft=Math.abs(p-upLeft);return pUp>=pLeft&&pUpLeft>=pLeft?left:pUpLeft>=pUp?up:upLeft},getFilterMethods=function(){return[filterNone,filterSub,filterUp,filterAverage,filterPaeth]},getIndexOfSmallestSum=function(arrays){for(var sum,min,ind,i=0,len=arrays.length;len>i;)sum=absSum(arrays[i].slice(1)),(min>sum||!min)&&(min=sum,ind=i),i++;return ind},absSum=function(array){for(var i=0,len=array.length,sum=0;len>i;)sum+=Math.abs(array[i++]);return sum};jsPDFAPI.processPNG=function(imageData,imageIndex,alias,compression){var img,dp,trns,colors,pal,smask,colorSpace=this.color_spaces.DEVICE_RGB,decode=this.decode.FLATE_DECODE,bpc=8;if(this.isString(imageData),this.isArrayBuffer(imageData)&&(imageData=new Uint8Array(imageData)),this.isArrayBufferView(imageData)){if(doesNotHavePngJS())throw new Error("PNG support requires png.js and zlib.js");if(img=new PNG(imageData),imageData=img.imgData,bpc=img.bits,colorSpace=img.colorSpace,colors=img.colors,-1!==[4,6].indexOf(img.colorType)){if(8===img.bits)for(var pixel,pbl,pixelsArrayType=window["Uint"+img.pixelBitlength+"Array"],pixels=new pixelsArrayType(img.decodePixels().buffer),len=pixels.length,imgData=new Uint8Array(len*img.colors),alphaData=new Uint8Array(len),pDiff=img.pixelBitlength-img.bits,i=0,n=0;len>i;i++){for(pixel=pixels[i],pbl=0;pDiff>pbl;)imgData[n++]=pixel>>>pbl&255,pbl+=img.bits;alphaData[i]=pixel>>>pbl&255}if(16===img.bits){for(var pixel,pixels=new Uint32Array(img.decodePixels().buffer),len=pixels.length,imgData=new Uint8Array(len*(32/img.pixelBitlength)*img.colors),alphaData=new Uint8Array(len*(32/img.pixelBitlength)),hasColors=img.colors>1,i=0,n=0,a=0;len>i;)pixel=pixels[i++],imgData[n++]=pixel>>>0&255,hasColors&&(imgData[n++]=pixel>>>16&255,pixel=pixels[i++],imgData[n++]=pixel>>>0&255),alphaData[a++]=pixel>>>16&255;bpc=8}canCompress(compression)?(imageData=compressBytes(imgData,img.width*img.colors,img.colors,compression),smask=compressBytes(alphaData,img.width,1,compression)):(imageData=imgData,smask=alphaData,decode=null)}if(3===img.colorType&&(colorSpace=this.color_spaces.INDEXED,pal=img.palette,img.transparency.indexed)){for(var trans=img.transparency.indexed,total=0,i=0,len=trans.length;len>i;++i)total+=trans[i];if(total/=255,total===len-1&&-1!==trans.indexOf(0))trns=[trans.indexOf(0)];else if(total!==len){for(var pixels=img.decodePixels(),alphaData=new Uint8Array(pixels.length),i=0,len=pixels.length;len>i;i++)alphaData[i]=trans[pixels[i]];smask=compressBytes(alphaData,img.width,1)}}return dp=decode===this.decode.FLATE_DECODE?"/Predictor 15 /Colors "+colors+" /BitsPerComponent "+bpc+" /Columns "+img.width:"/Colors "+colors+" /BitsPerComponent "+bpc+" /Columns "+img.width,(this.isArrayBuffer(imageData)||this.isArrayBufferView(imageData))&&(imageData=this.arrayBufferToBinaryString(imageData)),(smask&&this.isArrayBuffer(smask)||this.isArrayBufferView(smask))&&(smask=this.arrayBufferToBinaryString(smask)),this.createImageInfo(imageData,img.width,img.height,colorSpace,bpc,decode,imageIndex,alias,dp,trns,pal,smask)}return info}}(jsPDF.API);var DecodeStream=function(){function constructor(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return constructor.prototype={ensureBuffer:function(requested){var buffer=this.buffer,current=buffer?buffer.byteLength:0;if(current>requested)return buffer;for(var size=512;requested>size;)size<<=1;for(var buffer2=new Uint8Array(size),i=0;current>i;++i)buffer2[i]=buffer[i];return this.buffer=buffer2},getByte:function(){for(var pos=this.pos;this.bufferLength<=pos;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(length){var pos=this.pos;if(length){this.ensureBuffer(pos+length);for(var end=pos+length;!this.eof&&this.bufferLength<end;)this.readBlock();var bufEnd=this.bufferLength;end>bufEnd&&(end=bufEnd)}else{for(;!this.eof;)this.readBlock();var end=this.bufferLength}return this.pos=end,this.buffer.subarray(pos,end)},lookChar:function(){for(var pos=this.pos;this.bufferLength<=pos;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var pos=this.pos;this.bufferLength<=pos;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(start,length,dict){for(var end=start+length;this.bufferLength<=end&&!this.eof;)this.readBlock();return new Stream(this.buffer,start,length,dict)},skip:function(n){n||(n=1),this.pos+=n},reset:function(){this.pos=0}},constructor}(),FlateStream=function(){function error(e){throw new Error(e)}function constructor(bytes){var bytesPos=0,cmf=bytes[bytesPos++],flg=bytes[bytesPos++];(-1==cmf||-1==flg)&&error("Invalid header in flate stream"),8!=(15&cmf)&&error("Unknown compression method in flate stream"),((cmf<<8)+flg)%31!=0&&error("Bad FCHECK in flate stream"),32&flg&&error("FDICT bit set in flate stream"),this.bytes=bytes,this.bytesPos=bytesPos,this.codeSize=0,this.codeBuf=0,DecodeStream.call(this)}var codeLenCodeMap=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lengthDecode=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),distDecode=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fixedLitCodeTab=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],fixedDistCodeTab=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return constructor.prototype=Object.create(DecodeStream.prototype),constructor.prototype.getBits=function(bits){for(var b,codeSize=this.codeSize,codeBuf=this.codeBuf,bytes=this.bytes,bytesPos=this.bytesPos;bits>codeSize;)"undefined"==typeof(b=bytes[bytesPos++])&&error("Bad encoding in flate stream"),codeBuf|=b<<codeSize,codeSize+=8;return b=codeBuf&(1<<bits)-1,this.codeBuf=codeBuf>>bits,this.codeSize=codeSize-=bits,this.bytesPos=bytesPos,b},constructor.prototype.getCode=function(table){for(var codes=table[0],maxLen=table[1],codeSize=this.codeSize,codeBuf=this.codeBuf,bytes=this.bytes,bytesPos=this.bytesPos;maxLen>codeSize;){var b;"undefined"==typeof(b=bytes[bytesPos++])&&error("Bad encoding in flate stream"),codeBuf|=b<<codeSize,codeSize+=8}var code=codes[codeBuf&(1<<maxLen)-1],codeLen=code>>16,codeVal=65535&code;return(0==codeSize||codeLen>codeSize||0==codeLen)&&error("Bad encoding in flate stream"),this.codeBuf=codeBuf>>codeLen,this.codeSize=codeSize-codeLen,this.bytesPos=bytesPos,codeVal},constructor.prototype.generateHuffmanTable=function(lengths){for(var n=lengths.length,maxLen=0,i=0;n>i;++i)lengths[i]>maxLen&&(maxLen=lengths[i]);for(var size=1<<maxLen,codes=new Uint32Array(size),len=1,code=0,skip=2;maxLen>=len;++len,code<<=1,skip<<=1)for(var val=0;n>val;++val)if(lengths[val]==len){for(var code2=0,t=code,i=0;len>i;++i)code2=code2<<1|1&t,t>>=1;for(var i=code2;size>i;i+=skip)codes[i]=len<<16|val;++code}return[codes,maxLen]},constructor.prototype.readBlock=function(){function repeat(stream,array,len,offset,what){for(var repeat=stream.getBits(len)+offset;repeat-->0;)array[i++]=what}var hdr=this.getBits(3);if(1&hdr&&(this.eof=!0),hdr>>=1,0==hdr){var b,bytes=this.bytes,bytesPos=this.bytesPos;"undefined"==typeof(b=bytes[bytesPos++])&&error("Bad block header in flate stream");var blockLen=b;"undefined"==typeof(b=bytes[bytesPos++])&&error("Bad block header in flate stream"),blockLen|=b<<8,"undefined"==typeof(b=bytes[bytesPos++])&&error("Bad block header in flate stream");var check=b;"undefined"==typeof(b=bytes[bytesPos++])&&error("Bad block header in flate stream"),check|=b<<8,check!=(65535&~blockLen)&&error("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var bufferLength=this.bufferLength,buffer=this.ensureBuffer(bufferLength+blockLen),end=bufferLength+blockLen;this.bufferLength=end;for(var n=bufferLength;end>n;++n){if("undefined"==typeof(b=bytes[bytesPos++])){this.eof=!0;break}buffer[n]=b}return void(this.bytesPos=bytesPos)}var litCodeTable,distCodeTable;if(1==hdr)litCodeTable=fixedLitCodeTab,distCodeTable=fixedDistCodeTab;else if(2==hdr){for(var numLitCodes=this.getBits(5)+257,numDistCodes=this.getBits(5)+1,numCodeLenCodes=this.getBits(4)+4,codeLenCodeLengths=Array(codeLenCodeMap.length),i=0;numCodeLenCodes>i;)codeLenCodeLengths[codeLenCodeMap[i++]]=this.getBits(3);for(var codeLenCodeTab=this.generateHuffmanTable(codeLenCodeLengths),len=0,i=0,codes=numLitCodes+numDistCodes,codeLengths=new Array(codes);codes>i;){var code=this.getCode(codeLenCodeTab);16==code?repeat(this,codeLengths,2,3,len):17==code?repeat(this,codeLengths,3,3,len=0):18==code?repeat(this,codeLengths,7,11,len=0):codeLengths[i++]=len=code}litCodeTable=this.generateHuffmanTable(codeLengths.slice(0,numLitCodes)),distCodeTable=this.generateHuffmanTable(codeLengths.slice(numLitCodes,codes))}else error("Unknown block type in flate stream");for(var buffer=this.buffer,limit=buffer?buffer.length:0,pos=this.bufferLength;;){var code1=this.getCode(litCodeTable);if(256>code1)pos+1>=limit&&(buffer=this.ensureBuffer(pos+1),limit=buffer.length),buffer[pos++]=code1;else{if(256==code1)return void(this.bufferLength=pos);code1-=257,code1=lengthDecode[code1];var code2=code1>>16;code2>0&&(code2=this.getBits(code2));var len=(65535&code1)+code2;code1=this.getCode(distCodeTable),code1=distDecode[code1],code2=code1>>16,code2>0&&(code2=this.getBits(code2));var dist=(65535&code1)+code2;pos+len>=limit&&(buffer=this.ensureBuffer(pos+len),limit=buffer.length);for(var k=0;len>k;++k,++pos)buffer[pos]=buffer[pos-dist]}}},constructor}();(function(){var PNG;PNG=function(){function PNG(data){var chunkSize,colors,palLen,delayDen,delayNum,frame,i,index,key,section,short,text,_i,_j,_ref;for(this.data=data,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},frame=null;;){switch(chunkSize=this.readUInt32(),section=function(){var _i,_results;for(_results=[],i=_i=0;4>_i;i=++_i)_results.push(String.fromCharCode(this.data[this.pos++]));return _results}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(chunkSize);break;case"fcTL":frame&&this.animation.frames.push(frame),this.pos+=4,frame={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},delayNum=this.readUInt16(),delayDen=this.readUInt16()||100,frame.delay=1e3*delayNum/delayDen,frame.disposeOp=this.data[this.pos++],frame.blendOp=this.data[this.pos++],frame.data=[];break;case"IDAT":case"fdAT":for("fdAT"===section&&(this.pos+=4,chunkSize-=4),data=(null!=frame?frame.data:void 0)||this.imgData,i=_i=0;chunkSize>=0?chunkSize>_i:_i>chunkSize;i=chunkSize>=0?++_i:--_i)data.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(palLen=this.palette.length/3,this.transparency.indexed=this.read(chunkSize),this.transparency.indexed.length>palLen)throw new Error("More transparent colors than palette size");if(short=palLen-this.transparency.indexed.length,short>0)for(i=_j=0;short>=0?short>_j:_j>short;i=short>=0?++_j:--_j)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(chunkSize)[0];break;case 2:this.transparency.rgb=this.read(chunkSize)}break;case"tEXt":text=this.read(chunkSize),index=text.indexOf(0),key=String.fromCharCode.apply(String,text.slice(0,index)),this.text[key]=String.fromCharCode.apply(String,text.slice(index+1));break;case"IEND":return frame&&this.animation.frames.push(frame),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(_ref=this.colorType)||6===_ref,colors=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*colors,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=chunkSize}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}var APNG_BLEND_OP_OVER,APNG_BLEND_OP_SOURCE,APNG_DISPOSE_OP_BACKGROUND,APNG_DISPOSE_OP_NONE,APNG_DISPOSE_OP_PREVIOUS,makeImage,scratchCanvas,scratchCtx;return PNG.load=function(url,canvas,callback){var xhr;return"function"==typeof canvas&&(callback=canvas),xhr=new XMLHttpRequest,xhr.open("GET",url,!0),xhr.responseType="arraybuffer",xhr.onload=function(){var data,png;return data=new Uint8Array(xhr.response||xhr.mozResponseArrayBuffer),png=new PNG(data),"function"==typeof(null!=canvas?canvas.getContext:void 0)&&png.render(canvas),"function"==typeof callback?callback(png):void 0},xhr.send(null)},APNG_DISPOSE_OP_NONE=0,APNG_DISPOSE_OP_BACKGROUND=1,APNG_DISPOSE_OP_PREVIOUS=2,APNG_BLEND_OP_SOURCE=0,APNG_BLEND_OP_OVER=1,PNG.prototype.read=function(bytes){var i,_i,_results;for(_results=[],i=_i=0;bytes>=0?bytes>_i:_i>bytes;i=bytes>=0?++_i:--_i)_results.push(this.data[this.pos++]);return _results},PNG.prototype.readUInt32=function(){var b1,b2,b3,b4;return b1=this.data[this.pos++]<<24,b2=this.data[this.pos++]<<16,b3=this.data[this.pos++]<<8,b4=this.data[this.pos++],b1|b2|b3|b4},PNG.prototype.readUInt16=function(){var b1,b2;return b1=this.data[this.pos++]<<8,b2=this.data[this.pos++],b1|b2},PNG.prototype.decodePixels=function(data){var byte,c,col,i,left,length,p,pa,paeth,pb,pc,pixelBytes,pixels,pos,row,scanlineLength,upper,upperLeft,_i,_j,_k,_l,_m;if(null==data&&(data=this.imgData),0===data.length)return new Uint8Array(0);for(data=new FlateStream(data),data=data.getBytes(),pixelBytes=this.pixelBitlength/8,scanlineLength=pixelBytes*this.width,pixels=new Uint8Array(scanlineLength*this.height),length=data.length,row=0,pos=0,c=0;length>pos;){switch(data[pos++]){case 0:for(i=_i=0;scanlineLength>_i;i=_i+=1)pixels[c++]=data[pos++];break;case 1:for(i=_j=0;scanlineLength>_j;i=_j+=1)byte=data[pos++],left=pixelBytes>i?0:pixels[c-pixelBytes],pixels[c++]=(byte+left)%256;break;case 2:for(i=_k=0;scanlineLength>_k;i=_k+=1)byte=data[pos++],col=(i-i%pixelBytes)/pixelBytes,upper=row&&pixels[(row-1)*scanlineLength+col*pixelBytes+i%pixelBytes],pixels[c++]=(upper+byte)%256;break;case 3:for(i=_l=0;scanlineLength>_l;i=_l+=1)byte=data[pos++],col=(i-i%pixelBytes)/pixelBytes,left=pixelBytes>i?0:pixels[c-pixelBytes],upper=row&&pixels[(row-1)*scanlineLength+col*pixelBytes+i%pixelBytes],pixels[c++]=(byte+Math.floor((left+upper)/2))%256;break;case 4:for(i=_m=0;scanlineLength>_m;i=_m+=1)byte=data[pos++],col=(i-i%pixelBytes)/pixelBytes,left=pixelBytes>i?0:pixels[c-pixelBytes],0===row?upper=upperLeft=0:(upper=pixels[(row-1)*scanlineLength+col*pixelBytes+i%pixelBytes],upperLeft=col&&pixels[(row-1)*scanlineLength+(col-1)*pixelBytes+i%pixelBytes]),p=left+upper-upperLeft,pa=Math.abs(p-left),pb=Math.abs(p-upper),pc=Math.abs(p-upperLeft),paeth=pb>=pa&&pc>=pa?left:pc>=pb?upper:upperLeft,pixels[c++]=(byte+paeth)%256;break;default:throw new Error("Invalid filter algorithm: "+data[pos-1])}row++}return pixels},PNG.prototype.decodePalette=function(){var c,i,length,palette,pos,ret,transparency,_i,_ref,_ref1;for(palette=this.palette,transparency=this.transparency.indexed||[],ret=new Uint8Array((transparency.length||0)+palette.length),pos=0,length=palette.length,c=0,i=_i=0,_ref=palette.length;_ref>_i;i=_i+=3)ret[pos++]=palette[i],ret[pos++]=palette[i+1],ret[pos++]=palette[i+2],ret[pos++]=null!=(_ref1=transparency[c++])?_ref1:255;return ret},PNG.prototype.copyToImageData=function(imageData,pixels){var alpha,colors,data,i,input,j,k,length,palette,v,_ref;if(colors=this.colors,palette=null,alpha=this.hasAlphaChannel,this.palette.length&&(palette=null!=(_ref=this._decodedPalette)?_ref:this._decodedPalette=this.decodePalette(),colors=4,alpha=!0),data=imageData.data||imageData,length=data.length,input=palette||pixels,i=j=0,1===colors)for(;length>i;)k=palette?4*pixels[i/4]:j,v=input[k++],data[i++]=v,data[i++]=v,data[i++]=v,data[i++]=alpha?input[k++]:255,j=k;else for(;length>i;)k=palette?4*pixels[i/4]:j,data[i++]=input[k++],data[i++]=input[k++],data[i++]=input[k++],data[i++]=alpha?input[k++]:255,j=k},PNG.prototype.decode=function(){var ret;return ret=new Uint8Array(this.width*this.height*4),this.copyToImageData(ret,this.decodePixels()),ret},scratchCanvas=document.createElement("canvas"),scratchCtx=scratchCanvas.getContext("2d"),makeImage=function(imageData){var img;return scratchCtx.width=imageData.width,scratchCtx.height=imageData.height,scratchCtx.clearRect(0,0,imageData.width,imageData.height),scratchCtx.putImageData(imageData,0,0),img=new Image,img.src=scratchCanvas.toDataURL(),img},PNG.prototype.decodeFrames=function(ctx){var frame,i,imageData,pixels,_i,_len,_ref,_results;if(this.animation){for(_ref=this.animation.frames,_results=[],i=_i=0,_len=_ref.length;_len>_i;i=++_i)frame=_ref[i],imageData=ctx.createImageData(frame.width,frame.height),pixels=this.decodePixels(new Uint8Array(frame.data)),this.copyToImageData(imageData,pixels),frame.imageData=imageData,_results.push(frame.image=makeImage(imageData));return _results}},PNG.prototype.renderFrame=function(ctx,number){var frame,frames,prev;return frames=this.animation.frames,frame=frames[number],prev=frames[number-1],0===number&&ctx.clearRect(0,0,this.width,this.height),(null!=prev?prev.disposeOp:void 0)===APNG_DISPOSE_OP_BACKGROUND?ctx.clearRect(prev.xOffset,prev.yOffset,prev.width,prev.height):(null!=prev?prev.disposeOp:void 0)===APNG_DISPOSE_OP_PREVIOUS&&ctx.putImageData(prev.imageData,prev.xOffset,prev.yOffset),frame.blendOp===APNG_BLEND_OP_SOURCE&&ctx.clearRect(frame.xOffset,frame.yOffset,frame.width,frame.height),ctx.drawImage(frame.image,frame.xOffset,frame.yOffset)},PNG.prototype.animate=function(ctx){var doFrame,frameNumber,frames,numFrames,numPlays,_ref,_this=this;return frameNumber=0,_ref=this.animation,numFrames=_ref.numFrames,frames=_ref.frames,numPlays=_ref.numPlays,(doFrame=function(){var f,frame;return f=frameNumber++%numFrames,frame=frames[f],_this.renderFrame(ctx,f),numFrames>1&&numPlays>frameNumber/numFrames?_this.animation._timeout=setTimeout(doFrame,frame.delay):void 0})()},PNG.prototype.stopAnimation=function(){var _ref;return clearTimeout(null!=(_ref=this.animation)?_ref._timeout:void 0)},PNG.prototype.render=function(canvas){var ctx,data;return canvas._png&&canvas._png.stopAnimation(),canvas._png=this,canvas.width=this.width,canvas.height=this.height,ctx=canvas.getContext("2d"),this.animation?(this.decodeFrames(ctx),this.animate(ctx)):(data=ctx.createImageData(this.width,this.height),this.copyToImageData(data,this.decodePixels()),ctx.putImageData(data,0,0))},PNG}(),window.PNG=PNG}).call(this),function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){exports.QRCapacityTable=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]]},{}],2:[function(require,module,exports){function QRCodeDraw(){}{var bops=require("bops"),QRCodeLib=require("./qrcode.js"),QRVersionCapacityTable=require("./qrcapacitytable.js").QRCapacityTable;QRCodeLib.QRCode}exports.QRCodeDraw=QRCodeDraw,exports.QRVersionCapacityTable=QRVersionCapacityTable,exports.QRErrorCorrectLevel=QRCodeLib.QRErrorCorrectLevel,exports.QRCode=QRCodeLib.QRCode,QRCodeDraw.prototype={scale:4,defaultMargin:20,marginScaleFactor:5,Array:"undefined"==typeof Uint32Array?Uint32Array:Array,errorBehavior:{length:"trim"},color:{dark:"black",light:"white"},defaultErrorCorrectLevel:QRCodeLib.QRErrorCorrectLevel.H,QRErrorCorrectLevel:QRCodeLib.QRErrorCorrectLevel,draw:function(canvas,text,options,cb){var level,error,errorCorrectLevel,args=Array.prototype.slice.call(arguments);if(cb=args.pop(),canvas=args.shift(),text=args.shift(),options=args.shift()||{},"function"!=typeof cb)throw new Error("callback required");if("object"!=typeof options&&(options.errorCorrectLevel=options),this.QRVersion(text,options.errorCorrectLevel||this.QRErrorCorrectLevel.H,options.version,function(e,t,l,ec){text=t,level=l,error=e,errorCorrectLevel=ec}),this.scale=options.scale||this.scale,this.margin="undefined"==typeof options.margin?this.defaultMargin:options.margin,!level)return void cb(error,canvas);try{var qr=new QRCodeLib.QRCode(level,errorCorrectLevel),scale=this.scale||4,ctx=canvas.getContext("2d"),width=0;qr.addData(text),qr.make();var margin=this.marginWidth(),currenty=margin;width=this.dataWidth(qr)+2*margin,this.resetCanvas(canvas,ctx,width);for(var r=0,rl=qr.getModuleCount();rl>r;r++){for(var currentx=margin,c=0,cl=qr.getModuleCount();cl>c;c++)qr.isDark(r,c)?(ctx.fillStyle=this.color.dark,ctx.fillRect(currentx,currenty,scale,scale)):this.color.light&&(ctx.fillStyle=this.color.light,ctx.fillRect(currentx,currenty,scale,scale)),currentx+=scale;currenty+=scale}}catch(e){error=e}cb(error,canvas,width)},drawBitArray:function(text){var args=Array.prototype.slice.call(arguments),cb=args.pop(),text=args.shift(),errorCorrectLevel=args.shift(),options=args.shift()||{};
if("function"!=typeof cb)throw new Error("callback required as last argument");if(cb=arguments[arguments.length-1],arguments.length>2&&(errorCorrectLevel=arguments[2]),this.QRVersion(text,errorCorrectLevel,(options||{}).version,function(e,t,l,ec){text=t,level=l,error=e,errorCorrectLevel=ec}),!level)return void cb(error,[],0);try{var bits,qr=new QRCodeLib.QRCode(level,errorCorrectLevel),width=(this.scale||4,0),bitc=0;qr.addData(text),qr.make(),width=this.dataWidth(qr,1),bits=new this.Array(width*width);for(var r=0,rl=qr.getModuleCount();rl>r;r++)for(var c=0,cl=qr.getModuleCount();cl>c;c++)bits[bitc]=qr.isDark(r,c)?1:0,bitc++}catch(e){error=e,console.log(e.stack)}cb(error,bits,width)},QRVersion:function(text,errorCorrectLevel,version,cb){var error,c=bops.from(text).length,errorCorrectLevel=this.QRErrorCorrectLevel[errorCorrectLevel]||this.defaultErrorCorrectLevel,errorCorrectIndex=[1,0,3,2],keys=["L","M","Q","H"],capacity=0,versionSpecified=!1;if("undefined"!=typeof version&&null!==version&&(versionSpecified=!0),versionSpecified)capacity=QRVersionCapacityTable[version][errorCorrectIndex[errorCorrectLevel]];else{for(var i=0,j=QRVersionCapacityTable.length;j>i;i++)if(capacity=QRVersionCapacityTable[i][errorCorrectIndex[errorCorrectLevel]],c<QRVersionCapacityTable[i][errorCorrectIndex[errorCorrectLevel]]){version=i+1;break}version||(version=QRVersionCapacityTable.length-1)}return c>capacity&&("trim"==this.errorBehavior.length?(text=text.substr(0,capacity),level=QRVersionCapacityTable.length):error=new Error("input string too long for error correction "+keys[errorCorrectIndex[errorCorrectLevel]]+" max length "+capacity+" for qrcode version "+version)),cb&&cb(error,text,version,errorCorrectLevel),version},marginWidth:function(){var margin=this.margin;return this.scale=this.scale||4,this.scale*this.marginScaleFactor>margin&&margin>0&&(margin=this.scale*this.marginScaleFactor),margin},dataWidth:function(qr,scale){return qr.getModuleCount()*(scale||this.scale||4)},resetCanvas:function(canvas,ctx,width){ctx.clearRect(0,0,canvas.width,canvas.height),canvas.style||(canvas.style={}),canvas.style.height=canvas.height=width,canvas.style.width=canvas.width=width,this.color.light?(ctx.fillStyle=this.color.light,ctx.fillRect(0,0,canvas.width,canvas.height)):ctx.clearRect(0,0,canvas.width,canvas.height)}}},{"./qrcapacitytable.js":1,"./qrcode.js":3,bops:4}],3:[function(require,module,exports){function QRCode(typeNumber,errorCorrectLevel){this.typeNumber=typeNumber,this.errorCorrectLevel=errorCorrectLevel,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new QRDataArray}function QR8bitByte(data){this.mode=QRMode.MODE_8BIT_BYTE,this.data=data;this.parsedData=bops.from(data)}function QRPolynomial(num,shift){if(void 0==num.length)throw new Error(num.length+"/"+shift);for(var offset=0;offset<num.length&&0==num[offset];)offset++;this.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++)this.num[i]=num[i+offset]}function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount,this.dataCount=dataCount}function QRBitBuffer(){this.buffer=new Array,this.length=0}var bops=require("bops");exports.QRCode=QRCode;var QRDataArray="undefined"==typeof Uint32Array?Uint32Array:Array;QRCode.prototype={addData:function(data){var newData=new QR8bitByte(data);this.dataList.push(newData),this.dataCache=null},isDark:function(row,col){if(0>row||this.moduleCount<=row||0>col||this.moduleCount<=col)throw new Error(row+","+col);return this.modules[row][col]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(test,maskPattern){this.moduleCount=4*this.typeNumber+17,this.modules=new QRDataArray(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new QRDataArray(this.moduleCount);for(var col=0;col<this.moduleCount;col++)this.modules[row][col]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(test,maskPattern),this.typeNumber>=7&&this.setupTypeNumber(test),null==this.dataCache&&(this.dataCache=QRCode.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,maskPattern)},setupPositionProbePattern:function(row,col){for(var r=-1;7>=r;r++)if(!(-1>=row+r||this.moduleCount<=row+r))for(var c=-1;7>=c;c++)-1>=col+c||this.moduleCount<=col+c||(this.modules[row+r][col+c]=r>=0&&6>=r&&(0==c||6==c)||c>=0&&6>=c&&(0==r||6==r)||r>=2&&4>=r&&c>=2&&4>=c?!0:!1)},getBestMaskPattern:function(){for(var minLostPoint=0,pattern=0,i=0;8>i;i++){this.makeImpl(!0,i);var lostPoint=QRUtil.getLostPoint(this);(0==i||minLostPoint>lostPoint)&&(minLostPoint=lostPoint,pattern=i)}return pattern},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++)null==this.modules[r][6]&&(this.modules[r][6]=r%2==0);for(var c=8;c<this.moduleCount-8;c++)null==this.modules[6][c]&&(this.modules[6][c]=c%2==0)},setupPositionAdjustPattern:function(){var pos=QRUtil.getPatternPosition(this.typeNumber);pos=pos||"";for(var i=0;i<pos.length;i++)for(var j=0;j<pos.length;j++){var row=pos[i],col=pos[j];if(null==this.modules[row][col])for(var r=-2;2>=r;r++)for(var c=-2;2>=c;c++)this.modules[row+r][col+c]=-2==r||2==r||-2==c||2==c||0==r&&0==c?!0:!1}},setupTypeNumber:function(test){for(var bits=QRUtil.getBCHTypeNumber(this.typeNumber),i=0;18>i;i++){var mod=!test&&1==(bits>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod}for(var i=0;18>i;i++){var mod=!test&&1==(bits>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod}},setupTypeInfo:function(test,maskPattern){for(var data=this.errorCorrectLevel<<3|maskPattern,bits=QRUtil.getBCHTypeInfo(data),i=0;15>i;i++){var mod=!test&&1==(bits>>i&1);6>i?this.modules[i][8]=mod:8>i?this.modules[i+1][8]=mod:this.modules[this.moduleCount-15+i][8]=mod}for(var i=0;15>i;i++){var mod=!test&&1==(bits>>i&1);8>i?this.modules[8][this.moduleCount-i-1]=mod:9>i?this.modules[8][15-i-1+1]=mod:this.modules[8][15-i-1]=mod}this.modules[this.moduleCount-8][8]=!test},mapData:function(data,maskPattern){for(var inc=-1,row=this.moduleCount-1,bitIndex=7,byteIndex=0,col=this.moduleCount-1;col>0;col-=2)for(6==col&&col--;;){for(var c=0;2>c;c++)if(null==this.modules[row][col-c]){var dark=!1;byteIndex<data.length&&(dark=1==(data[byteIndex]>>>bitIndex&1));var mask=QRUtil.getMask(maskPattern,row,col-c);mask&&(dark=!dark),this.modules[row][col-c]=dark,bitIndex--,-1==bitIndex&&(byteIndex++,bitIndex=7)}if(row+=inc,0>row||this.moduleCount<=row){row-=inc,inc=-inc;break}}}},QRCode.PAD0=236,QRCode.PAD1=17,QRCode.createData=function(typeNumber,errorCorrectLevel,dataList){for(var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel),buffer=new QRBitBuffer,i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4),buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber)),data.write(buffer)}for(var totalDataCount=0,i=0;i<rsBlocks.length;i++)totalDataCount+=rsBlocks[i].dataCount;if(buffer.getLengthInBits()>8*totalDataCount)throw new Error("code length overflow. ("+buffer.getLengthInBits()+">"+8*totalDataCount+")");for(buffer.getLengthInBits()+4<=8*totalDataCount&&buffer.put(0,4);buffer.getLengthInBits()%8!=0;)buffer.putBit(!1);for(;;){if(buffer.getLengthInBits()>=8*totalDataCount)break;if(buffer.put(QRCode.PAD0,8),buffer.getLengthInBits()>=8*totalDataCount)break;buffer.put(QRCode.PAD1,8)}return QRCode.createBytes(buffer,rsBlocks)},QRCode.createBytes=function(buffer,rsBlocks){for(var offset=0,maxDcCount=0,maxEcCount=0,dcdata=new QRDataArray(rsBlocks.length),ecdata=new QRDataArray(rsBlocks.length),r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount,ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount),maxEcCount=Math.max(maxEcCount,ecCount),dcdata[r]=new QRDataArray(dcCount);for(var i=0;i<dcdata[r].length;i++)dcdata[r][i]=255&buffer.buffer[i+offset];offset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount),rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1),modPoly=rawPoly.mod(rsPoly);ecdata[r]=new QRDataArray(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=modIndex>=0?modPoly.get(modIndex):0}}for(var totalCodeCount=0,i=0;i<rsBlocks.length;i++)totalCodeCount+=rsBlocks[i].totalCount;for(var data=new QRDataArray(totalCodeCount),index=0,i=0;maxDcCount>i;i++)for(var r=0;r<rsBlocks.length;r++)i<dcdata[r].length&&(data[index++]=dcdata[r][i]);for(var i=0;maxEcCount>i;i++)for(var r=0;r<rsBlocks.length;r++)i<ecdata[r].length&&(data[index++]=ecdata[r][i]);return data},QR8bitByte.prototype={getLength:function(){return this.parsedData.length},write:function(buffer){for(var i=0,l=this.parsedData.length;l>i;i++)buffer.put(this.parsedData[i],8)}};for(var QRMode={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},QRErrorCorrectLevel=exports.QRErrorCorrectLevel={L:1,M:0,Q:3,H:2},QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(data){for(var d=data<<10;QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)d^=QRUtil.G15<<QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15);return(data<<10|d)^QRUtil.G15_MASK},getBCHTypeNumber:function(data){for(var d=data<<12;QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)d^=QRUtil.G18<<QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18);return data<<12|d},getBCHDigit:function(data){for(var digit=0;0!=data;)digit++,data>>>=1;return digit},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1]},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return i*j%2+i*j%3==0;case QRMaskPattern.PATTERN110:return(i*j%2+i*j%3)%2==0;case QRMaskPattern.PATTERN111:return(i*j%3+(i+j)%2)%2==0;default:throw new Error("bad maskPattern:"+maskPattern)}},getErrorCorrectPolynomial:function(errorCorrectLength){for(var a=new QRPolynomial([1],0),i=0;errorCorrectLength>i;i++)a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0));return a},getLengthInBits:function(mode,type){if(type>=1&&10>type)switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+mode)}else if(27>type)switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+mode)}else{if(!(41>type))throw new Error("type:"+type);switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+mode)}}},getLostPoint:function(qrCode){for(var moduleCount=qrCode.getModuleCount(),lostPoint=0,row=0;moduleCount>row;row++)for(var col=0;moduleCount>col;col++){for(var sameCount=0,dark=qrCode.isDark(row,col),r=-1;1>=r;r++)if(!(0>row+r||row+r>=moduleCount))for(var c=-1;1>=c;c++)0>col+c||col+c>=moduleCount||(0!=r||0!=c)&&dark==qrCode.isDark(row+r,col+c)&&sameCount++;sameCount>5&&(lostPoint+=3+sameCount-5)}for(var row=0;moduleCount-1>row;row++)for(var col=0;moduleCount-1>col;col++){var count=0;qrCode.isDark(row,col)&&count++,qrCode.isDark(row+1,col)&&count++,qrCode.isDark(row,col+1)&&count++,qrCode.isDark(row+1,col+1)&&count++,(0==count||4==count)&&(lostPoint+=3)}for(var row=0;moduleCount>row;row++)for(var col=0;moduleCount-6>col;col++)qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)&&(lostPoint+=40);for(var col=0;moduleCount>col;col++)for(var row=0;moduleCount-6>row;row++)qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)&&(lostPoint+=40);for(var darkCount=0,col=0;moduleCount>col;col++)for(var row=0;moduleCount>row;row++)qrCode.isDark(row,col)&&darkCount++;var ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;return lostPoint+=10*ratio}},QRMath={glog:function(n){if(1>n)throw new Error("glog("+n+")");return QRMath.LOG_TABLE[n]},gexp:function(n){for(;0>n;)n+=255;for(;n>=256;)n-=255;return QRMath.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},i=0;8>i;i++)QRMath.EXP_TABLE[i]=1<<i;for(var i=8;256>i;i++)QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];for(var i=0;255>i;i++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;QRPolynomial.prototype={get:function(index){return this.num[index]},getLength:function(){return this.num.length},multiply:function(e){for(var num=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var j=0;j<e.getLength();j++)num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)));return new QRPolynomial(num,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0)),num=new Array(this.getLength()),i=0;i<this.getLength();i++)num[i]=this.get(i);for(var i=0;i<e.getLength();i++)num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio);return new QRPolynomial(num,0).mod(e)}},QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(void 0==rsBlock)throw new Error("bad rs block @ typeNumber:"+typeNumber+"/errorCorrectLevel:"+errorCorrectLevel);for(var length=rsBlock.length/3,list=new Array,i=0;length>i;i++)for(var count=rsBlock[3*i+0],totalCount=rsBlock[3*i+1],dataCount=rsBlock[3*i+2],j=0;count>j;j++)list.push(new QRRSBlock(totalCount,dataCount));return list},QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[4*(typeNumber-1)+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[4*(typeNumber-1)+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[4*(typeNumber-1)+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[4*(typeNumber-1)+3];default:return void 0}},QRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return 1==(this.buffer[bufIndex]>>>7-index%8&1)},put:function(num,length){for(var i=0;length>i;i++)this.putBit(1==(num>>>length-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(bit){var bufIndex=Math.floor(this.length/8);this.buffer.length<=bufIndex&&this.buffer.push(0),bit&&(this.buffer[bufIndex]|=128>>>this.length%8),this.length++}}},{bops:4}],4:[function(require,module){function mix(from,into){for(var key in from)into[key]=from[key]}var proto={};module.exports=proto,proto.from=require("./from.js"),proto.to=require("./to.js"),proto.is=require("./is.js"),proto.subarray=require("./subarray.js"),proto.join=require("./join.js"),proto.copy=require("./copy.js"),proto.create=require("./create.js"),mix(require("./read.js"),proto),mix(require("./write.js"),proto)},{"./copy.js":7,"./create.js":8,"./from.js":9,"./is.js":10,"./join.js":11,"./read.js":13,"./subarray.js":14,"./to.js":15,"./write.js":16}],5:[function(require,module){!function(){"use strict";function b64ToByteArray(b64){var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(placeHolders=b64.indexOf("="),placeHolders=placeHolders>0?b64.length-placeHolders:0,arr=[],l=placeHolders>0?b64.length-4:b64.length,i=0,j=0;l>i;i+=4,j+=3)tmp=lookup.indexOf(b64[i])<<18|lookup.indexOf(b64[i+1])<<12|lookup.indexOf(b64[i+2])<<6|lookup.indexOf(b64[i+3]),arr.push((16711680&tmp)>>16),arr.push((65280&tmp)>>8),arr.push(255&tmp);return 2===placeHolders?(tmp=lookup.indexOf(b64[i])<<2|lookup.indexOf(b64[i+1])>>4,arr.push(255&tmp)):1===placeHolders&&(tmp=lookup.indexOf(b64[i])<<10|lookup.indexOf(b64[i+1])<<4|lookup.indexOf(b64[i+2])>>2,arr.push(tmp>>8&255),arr.push(255&tmp)),arr}function uint8ToBase64(uint8){function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}var i,temp,length,extraBytes=uint8.length%3,output="";for(i=0,length=uint8.length-extraBytes;length>i;i+=3)temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output+=tripletToBase64(temp);switch(extraBytes){case 1:temp=uint8[uint8.length-1],output+=lookup[temp>>2],output+=lookup[temp<<4&63],output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1],output+=lookup[temp>>10],output+=lookup[temp>>4&63],output+=lookup[temp<<2&63],output+="="}return output}var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";module.exports.toByteArray=b64ToByteArray,module.exports.fromByteArray=uint8ToBase64}()},{}],6:[function(require,module){function to_utf8(bytes,start,end){start=void 0===start?0:start,end=void 0===end?bytes.length:end;var pos,by,idx=0,hi=128,collecting=0;for(col.length=out.length=0;idx<bytes.length;)by=bytes[idx],!collecting&&by&hi?(pos=find_pad_position(by),collecting+=pos,8>pos&&(col[col.length]=by&unmask[6-pos])):collecting?(col[col.length]=by&unmask[6],--collecting,!collecting&&col.length&&(out[out.length]=fcc(reduced(col,pos)),col.length=0)):out[out.length]=fcc(by),++idx;return col.length&&!collecting&&(out[out.length]=fcc(reduced(col,pos)),col.length=0),out.join("")}function find_pad_position(byt){for(var i=0;7>i&&byt&mask[i];++i);return i}function reduced(list){for(var out=0,i=0,len=list.length;len>i;++i)out|=list[i]<<6*(len-i-1);return out}module.exports=to_utf8;var out=[],col=[],fcc=String.fromCharCode,mask=[64,32,16,8,4,2,1],unmask=[0,1,3,7,15,31,63,127]},{}],7:[function(require,module){function copy(source,target,target_start,source_start,source_end){return target_start=arguments.length<3?0:target_start,source_start=arguments.length<4?0:source_start,source_end=arguments.length<5?source.length:source_end,source_end!==source_start&&0!==target.length&&0!==source.length?(source_end>source.length&&(source_end=source.length),target.length-target_start<source_end-source_start&&(source_end=target.length-target_start+start),source.buffer!==target.buffer?fast_copy(source,target,target_start,source_start,source_end):slow_copy(source,target,target_start,source_start,source_end)):void 0}function fast_copy(source,target,target_start,source_start,source_end){for(var len=source_end-source_start+target_start,i=target_start,j=source_start;len>i;++i,++j)target[i]=source[j]}function slow_copy(from,to,j,i,jend){for(var iend=jend+i,tmp=new Uint8Array(slice.call(from,i,iend)),x=0;iend>i;++i,++x)to[j++]=tmp[x]}module.exports=copy;var slice=[].slice},{}],8:[function(require,module){module.exports=function(size){return new Uint8Array(size)}},{}],9:[function(require,module){function from(source,encoding){return Array.isArray(source)?new Uint8Array(source):decoders[encoding||"utf8"](source)}function from_hex(str){for(var size=str.length/2,buf=new Uint8Array(size),character="",i=0,len=str.length;len>i;++i)character+=str.charAt(i),i>0&&i%2===1&&(buf[i>>>1]=parseInt(character,16),character="");return buf}function from_utf(str){for(var tmp,ch,bytes=[],i=0,len=str.length;len>i;++i)if(ch=str.charCodeAt(i),128&ch){tmp=encodeURIComponent(str.charAt(i)).substr(1).split("%");for(var j=0,jlen=tmp.length;jlen>j;++j)bytes[bytes.length]=parseInt(tmp[j],16)}else bytes[bytes.length]=ch;return new Uint8Array(bytes)}function from_base64(str){return new Uint8Array(base64.toByteArray(str))}module.exports=from;var base64=require("base64-js"),decoders={hex:from_hex,utf8:from_utf,base64:from_base64}},{"base64-js":5}],10:[function(require,module){module.exports=function(buffer){return buffer instanceof Uint8Array}},{}],11:[function(require,module){function join(targets,hint){if(!targets.length)return new Uint8Array(0);for(var len=void 0!==hint?hint:get_length(targets),out=new Uint8Array(len),cur=targets[0],curlen=cur.length,curidx=0,curoff=0,i=0;len>i;)curoff!==curlen?out[i++]=cur[curoff++]:(curoff=0,++curidx,cur=targets[curidx],curlen=cur&&cur.length);return out}function get_length(targets){for(var size=0,i=0,len=targets.length;len>i;++i)size+=targets[i].byteLength;return size}module.exports=join},{}],12:[function(require,module){function no_weakmap_get(target){return new DataView(target.buffer,0)}function get(target){var out=map.get(target.buffer);return out||map.set(target.buffer,out=new DataView(target.buffer,0)),out}var proto,map;module.exports=proto={},map="undefined"==typeof WeakMap?null:new WeakMap,proto.get=map?get:no_weakmap_get},{}],13:[function(require,module){function read_uint8(target,at){return target[at]}function read_int8(target,at){var v=target[at];return 128>v?v:v-256}function read_uint16_le(target,at){var dv=map.get(target);return dv.getUint16(at+target.byteOffset,!0)}function read_uint32_le(target,at){var dv=map.get(target);return dv.getUint32(at+target.byteOffset,!0)}function read_int16_le(target,at){var dv=map.get(target);return dv.getInt16(at+target.byteOffset,!0)}function read_int32_le(target,at){var dv=map.get(target);return dv.getInt32(at+target.byteOffset,!0)}function read_float_le(target,at){var dv=map.get(target);return dv.getFloat32(at+target.byteOffset,!0)}function read_double_le(target,at){var dv=map.get(target);return dv.getFloat64(at+target.byteOffset,!0)}function read_uint16_be(target,at){var dv=map.get(target);return dv.getUint16(at+target.byteOffset,!1)}function read_uint32_be(target,at){var dv=map.get(target);return dv.getUint32(at+target.byteOffset,!1)}function read_int16_be(target,at){var dv=map.get(target);return dv.getInt16(at+target.byteOffset,!1)}function read_int32_be(target,at){var dv=map.get(target);return dv.getInt32(at+target.byteOffset,!1)}function read_float_be(target,at){var dv=map.get(target);return dv.getFloat32(at+target.byteOffset,!1)}function read_double_be(target,at){var dv=map.get(target);return dv.getFloat64(at+target.byteOffset,!1)}module.exports={readUInt8:read_uint8,readInt8:read_int8,readUInt16LE:read_uint16_le,readUInt32LE:read_uint32_le,readInt16LE:read_int16_le,readInt32LE:read_int32_le,readFloatLE:read_float_le,readDoubleLE:read_double_le,readUInt16BE:read_uint16_be,readUInt32BE:read_uint32_be,readInt16BE:read_int16_be,readInt32BE:read_int32_be,readFloatBE:read_float_be,readDoubleBE:read_double_be};var map=require("./mapped.js")},{"./mapped.js":12}],14:[function(require,module){function subarray(buf,from,to){return buf.subarray(from||0,to||buf.length)}module.exports=subarray},{}],15:[function(require,module){function to(buf,encoding){return encoders[encoding||"utf8"](buf)}function to_hex(buf){for(var byt,str="",i=0,len=buf.length;len>i;++i)byt=buf[i],str+=((240&byt)>>>4).toString(16),str+=(15&byt).toString(16);return str}function to_utf(buf){return toutf8(buf)}function to_base64(buf){return base64.fromByteArray(buf)}module.exports=to;var base64=require("base64-js"),toutf8=require("to-utf8"),encoders={hex:to_hex,utf8:to_utf,base64:to_base64}},{"base64-js":5,"to-utf8":6}],16:[function(require,module){function write_uint8(target,value,at){return target[at]=value}function write_int8(target,value,at){return target[at]=0>value?value+256:value}function write_uint16_le(target,value,at){var dv=map.get(target);return dv.setUint16(at+target.byteOffset,value,!0)}function write_uint32_le(target,value,at){var dv=map.get(target);return dv.setUint32(at+target.byteOffset,value,!0)}function write_int16_le(target,value,at){var dv=map.get(target);return dv.setInt16(at+target.byteOffset,value,!0)}function write_int32_le(target,value,at){var dv=map.get(target);return dv.setInt32(at+target.byteOffset,value,!0)}function write_float_le(target,value,at){var dv=map.get(target);return dv.setFloat32(at+target.byteOffset,value,!0)}function write_double_le(target,value,at){var dv=map.get(target);return dv.setFloat64(at+target.byteOffset,value,!0)}function write_uint16_be(target,value,at){var dv=map.get(target);return dv.setUint16(at+target.byteOffset,value,!1)}function write_uint32_be(target,value,at){var dv=map.get(target);return dv.setUint32(at+target.byteOffset,value,!1)}function write_int16_be(target,value,at){var dv=map.get(target);return dv.setInt16(at+target.byteOffset,value,!1)}function write_int32_be(target,value,at){var dv=map.get(target);return dv.setInt32(at+target.byteOffset,value,!1)}function write_float_be(target,value,at){var dv=map.get(target);return dv.setFloat32(at+target.byteOffset,value,!1)}function write_double_be(target,value,at){var dv=map.get(target);return dv.setFloat64(at+target.byteOffset,value,!1)}module.exports={writeUInt8:write_uint8,writeInt8:write_int8,writeUInt16LE:write_uint16_le,writeUInt32LE:write_uint32_le,writeInt16LE:write_int16_le,writeInt32LE:write_int32_le,writeFloatLE:write_float_le,writeDoubleLE:write_double_le,writeUInt16BE:write_uint16_be,writeUInt32BE:write_uint32_be,writeInt16BE:write_int16_be,writeInt32BE:write_int32_be,writeFloatBE:write_float_be,writeDoubleBE:write_double_be};var map=require("./mapped.js")},{"./mapped.js":12}],17:[function(require){var QRCodeLib=require("./lib/qrcode-draw.js");"undefined"!=typeof window&&(window.qrcodelib=window.QRCodeLib=QRCodeLib,QRCodeLib.qrcodedraw=QRCodeLib.QRCodeDraw)},{"./lib/qrcode-draw.js":2}]},{},[17]),document.createElement("canvas").getContext||!function(){function getContext(){return this.context_||(this.context_=new CanvasRenderingContext2D_(this))}function bind(f,obj){var a=slice.call(arguments,2);return function(){return f.apply(obj,a.concat(slice.call(arguments)))}}function onPropertyChange(e){var el=e.srcElement;switch(e.propertyName){case"width":el.style.width=el.attributes.width.nodeValue+"px",el.getContext().clearRect();break;case"height":el.style.height=el.attributes.height.nodeValue+"px",el.getContext().clearRect()}}function onResize(e){var el=e.srcElement;el.firstChild&&(el.firstChild.style.width=el.clientWidth+"px",el.firstChild.style.height=el.clientHeight+"px")}function createMatrixIdentity(){return[[1,0,0],[0,1,0],[0,0,1]]}function matrixMultiply(m1,m2){for(var result=createMatrixIdentity(),x=0;3>x;x++)for(var y=0;3>y;y++){for(var sum=0,z=0;3>z;z++)sum+=m1[x][z]*m2[z][y];result[x][y]=sum}return result}function copyState(o1,o2){o2.fillStyle=o1.fillStyle,o2.lineCap=o1.lineCap,o2.lineJoin=o1.lineJoin,o2.lineWidth=o1.lineWidth,o2.miterLimit=o1.miterLimit,o2.shadowBlur=o1.shadowBlur,o2.shadowColor=o1.shadowColor,o2.shadowOffsetX=o1.shadowOffsetX,o2.shadowOffsetY=o1.shadowOffsetY,o2.strokeStyle=o1.strokeStyle,o2.globalAlpha=o1.globalAlpha,o2.arcScaleX_=o1.arcScaleX_,o2.arcScaleY_=o1.arcScaleY_,o2.lineScale_=o1.lineScale_}function processStyle(styleString){var str,alpha=1;if(styleString=String(styleString),"rgb"==styleString.substring(0,3)){var start=styleString.indexOf("(",3),end=styleString.indexOf(")",start+1),guts=styleString.substring(start+1,end).split(",");str="#";for(var i=0;3>i;i++)str+=dec2hex[Number(guts[i])];4==guts.length&&"a"==styleString.substr(3,1)&&(alpha=guts[3])}else str=styleString;return{color:str,alpha:alpha}}function processLineCap(lineCap){switch(lineCap){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}function CanvasRenderingContext2D_(surfaceElement){this.m_=createMatrixIdentity(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*Z,this.globalAlpha=1,this.canvas=surfaceElement;var el=surfaceElement.ownerDocument.createElement("div");el.style.width=surfaceElement.clientWidth+"px",el.style.height=surfaceElement.clientHeight+"px",el.style.overflow="hidden",el.style.position="absolute",surfaceElement.appendChild(el),this.element_=el,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function bezierCurveTo(self,cp1,cp2,p){self.currentPath_.push({type:"bezierCurveTo",cp1x:cp1.x,cp1y:cp1.y,cp2x:cp2.x,cp2y:cp2.y,x:p.x,y:p.y}),self.currentX_=p.x,self.currentY_=p.y}function matrixIsFinite(m){for(var j=0;3>j;j++)for(var k=0;2>k;k++)if(!isFinite(m[j][k])||isNaN(m[j][k]))return!1;

return!0}function setM(ctx,m,updateLineScale){if(matrixIsFinite(m)&&(ctx.m_=m,updateLineScale)){var det=m[0][0]*m[1][1]-m[0][1]*m[1][0];ctx.lineScale_=sqrt(abs(det))}}function CanvasGradient_(aType){this.type_=aType,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function CanvasPattern_(){}var m=Math,mr=m.round,ms=m.sin,mc=m.cos,abs=m.abs,sqrt=m.sqrt,Z=10,Z2=Z/2,slice=Array.prototype.slice,G_vmlCanvasManager_={init:function(opt_doc){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var doc=opt_doc||document;doc.createElement("canvas"),doc.attachEvent("onreadystatechange",bind(this.init_,this,doc))}},init_:function(doc){if(doc.namespaces.g_vml_||doc.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),doc.namespaces.g_o_||doc.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),!doc.styleSheets.ex_canvas_){var ss=doc.createStyleSheet();ss.owningElement.id="ex_canvas_",ss.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}for(var els=doc.getElementsByTagName("canvas"),i=0;i<els.length;i++)this.initElement(els[i])},initElement:function(el){if(!el.getContext){el.getContext=getContext,el.innerHTML="",el.attachEvent("onpropertychange",onPropertyChange),el.attachEvent("onresize",onResize);var attrs=el.attributes;attrs.width&&attrs.width.specified?el.style.width=attrs.width.nodeValue+"px":el.width=el.clientWidth,attrs.height&&attrs.height.specified?el.style.height=attrs.height.nodeValue+"px":el.height=el.clientHeight}return el}};G_vmlCanvasManager_.init();for(var dec2hex=[],i=0;16>i;i++)for(var j=0;16>j;j++)dec2hex[16*i+j]=i.toString(16)+j.toString(16);var contextPrototype=CanvasRenderingContext2D_.prototype;contextPrototype.clearRect=function(){this.element_.innerHTML=""},contextPrototype.beginPath=function(){this.currentPath_=[]},contextPrototype.moveTo=function(aX,aY){var p=this.getCoords_(aX,aY);this.currentPath_.push({type:"moveTo",x:p.x,y:p.y}),this.currentX_=p.x,this.currentY_=p.y},contextPrototype.lineTo=function(aX,aY){var p=this.getCoords_(aX,aY);this.currentPath_.push({type:"lineTo",x:p.x,y:p.y}),this.currentX_=p.x,this.currentY_=p.y},contextPrototype.bezierCurveTo=function(aCP1x,aCP1y,aCP2x,aCP2y,aX,aY){var p=this.getCoords_(aX,aY),cp1=this.getCoords_(aCP1x,aCP1y),cp2=this.getCoords_(aCP2x,aCP2y);bezierCurveTo(this,cp1,cp2,p)},contextPrototype.quadraticCurveTo=function(aCPx,aCPy,aX,aY){var cp=this.getCoords_(aCPx,aCPy),p=this.getCoords_(aX,aY),cp1={x:this.currentX_+2/3*(cp.x-this.currentX_),y:this.currentY_+2/3*(cp.y-this.currentY_)},cp2={x:cp1.x+(p.x-this.currentX_)/3,y:cp1.y+(p.y-this.currentY_)/3};bezierCurveTo(this,cp1,cp2,p)},contextPrototype.arc=function(aX,aY,aRadius,aStartAngle,aEndAngle,aClockwise){aRadius*=Z;var arcType=aClockwise?"at":"wa",xStart=aX+mc(aStartAngle)*aRadius-Z2,yStart=aY+ms(aStartAngle)*aRadius-Z2,xEnd=aX+mc(aEndAngle)*aRadius-Z2,yEnd=aY+ms(aEndAngle)*aRadius-Z2;xStart!=xEnd||aClockwise||(xStart+=.125);var p=this.getCoords_(aX,aY),pStart=this.getCoords_(xStart,yStart),pEnd=this.getCoords_(xEnd,yEnd);this.currentPath_.push({type:arcType,x:p.x,y:p.y,radius:aRadius,xStart:pStart.x,yStart:pStart.y,xEnd:pEnd.x,yEnd:pEnd.y})},contextPrototype.rect=function(aX,aY,aWidth,aHeight){this.moveTo(aX,aY),this.lineTo(aX+aWidth,aY),this.lineTo(aX+aWidth,aY+aHeight),this.lineTo(aX,aY+aHeight),this.closePath()},contextPrototype.strokeRect=function(aX,aY,aWidth,aHeight){var oldPath=this.currentPath_;this.beginPath(),this.moveTo(aX,aY),this.lineTo(aX+aWidth,aY),this.lineTo(aX+aWidth,aY+aHeight),this.lineTo(aX,aY+aHeight),this.closePath(),this.stroke(),this.currentPath_=oldPath},contextPrototype.fillRect=function(aX,aY,aWidth,aHeight){var oldPath=this.currentPath_;this.beginPath(),this.moveTo(aX,aY),this.lineTo(aX+aWidth,aY),this.lineTo(aX+aWidth,aY+aHeight),this.lineTo(aX,aY+aHeight),this.closePath(),this.fill(),this.currentPath_=oldPath},contextPrototype.createLinearGradient=function(aX0,aY0,aX1,aY1){var gradient=new CanvasGradient_("gradient");return gradient.x0_=aX0,gradient.y0_=aY0,gradient.x1_=aX1,gradient.y1_=aY1,gradient},contextPrototype.createRadialGradient=function(aX0,aY0,aR0,aX1,aY1,aR1){var gradient=new CanvasGradient_("gradientradial");return gradient.x0_=aX0,gradient.y0_=aY0,gradient.r0_=aR0,gradient.x1_=aX1,gradient.y1_=aY1,gradient.r1_=aR1,gradient},contextPrototype.drawImage=function(image){var dx,dy,dw,dh,sx,sy,sw,sh,oldRuntimeWidth=image.runtimeStyle.width,oldRuntimeHeight=image.runtimeStyle.height;image.runtimeStyle.width="auto",image.runtimeStyle.height="auto";var w=image.width,h=image.height;if(image.runtimeStyle.width=oldRuntimeWidth,image.runtimeStyle.height=oldRuntimeHeight,3==arguments.length)dx=arguments[1],dy=arguments[2],sx=sy=0,sw=dw=w,sh=dh=h;else if(5==arguments.length)dx=arguments[1],dy=arguments[2],dw=arguments[3],dh=arguments[4],sx=sy=0,sw=w,sh=h;else{if(9!=arguments.length)throw Error("Invalid number of arguments");sx=arguments[1],sy=arguments[2],sw=arguments[3],sh=arguments[4],dx=arguments[5],dy=arguments[6],dw=arguments[7],dh=arguments[8]}var d=this.getCoords_(dx,dy),vmlStr=[],W=10,H=10;if(vmlStr.push(" <g_vml_:group",' coordsize="',Z*W,",",Z*H,'"',' coordorigin="0,0"',' style="width:',W,"px;height:",H,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]){var filter=[];filter.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",mr(d.x/Z),",","Dy=",mr(d.y/Z),"");var max=d,c2=this.getCoords_(dx+dw,dy),c3=this.getCoords_(dx,dy+dh),c4=this.getCoords_(dx+dw,dy+dh);max.x=m.max(max.x,c2.x,c3.x,c4.x),max.y=m.max(max.y,c2.y,c3.y,c4.y),vmlStr.push("padding:0 ",mr(max.x/Z),"px ",mr(max.y/Z),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",filter.join(""),", sizingmethod='clip');")}else vmlStr.push("top:",mr(d.y/Z),"px;left:",mr(d.x/Z),"px;");vmlStr.push(' ">','<g_vml_:image src="',image.src,'"',' style="width:',Z*dw,"px;"," height:",Z*dh,'px;"',' cropleft="',sx/w,'"',' croptop="',sy/h,'"',' cropright="',(w-sx-sw)/w,'"',' cropbottom="',(h-sy-sh)/h,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",vmlStr.join(""))},contextPrototype.stroke=function(aFill){var lineStr=[],a=processStyle(aFill?this.fillStyle:this.strokeStyle),color=a.color,opacity=a.alpha*this.globalAlpha,W=10,H=10;lineStr.push("<g_vml_:shape",' filled="',!!aFill,'"',' style="position:absolute;width:',W,"px;height:",H,'px;"',' coordorigin="0 0" coordsize="',Z*W," ",Z*H,'"',' stroked="',!aFill,'"',' path="');for(var min={x:null,y:null},max={x:null,y:null},i=0;i<this.currentPath_.length;i++){var c,p=this.currentPath_[i];switch(p.type){case"moveTo":c=p,lineStr.push(" m ",mr(p.x),",",mr(p.y));break;case"lineTo":lineStr.push(" l ",mr(p.x),",",mr(p.y));break;case"close":lineStr.push(" x "),p=null;break;case"bezierCurveTo":lineStr.push(" c ",mr(p.cp1x),",",mr(p.cp1y),",",mr(p.cp2x),",",mr(p.cp2y),",",mr(p.x),",",mr(p.y));break;case"at":case"wa":lineStr.push(" ",p.type," ",mr(p.x-this.arcScaleX_*p.radius),",",mr(p.y-this.arcScaleY_*p.radius)," ",mr(p.x+this.arcScaleX_*p.radius),",",mr(p.y+this.arcScaleY_*p.radius)," ",mr(p.xStart),",",mr(p.yStart)," ",mr(p.xEnd),",",mr(p.yEnd))}p&&((null==min.x||p.x<min.x)&&(min.x=p.x),(null==max.x||p.x>max.x)&&(max.x=p.x),(null==min.y||p.y<min.y)&&(min.y=p.y),(null==max.y||p.y>max.y)&&(max.y=p.y))}if(lineStr.push(' ">'),aFill)if("object"==typeof this.fillStyle){var fillStyle=this.fillStyle,angle=0,focus={x:0,y:0},shift=0,expansion=1;if("gradient"==fillStyle.type_){var x0=fillStyle.x0_/this.arcScaleX_,y0=fillStyle.y0_/this.arcScaleY_,x1=fillStyle.x1_/this.arcScaleX_,y1=fillStyle.y1_/this.arcScaleY_,p0=this.getCoords_(x0,y0),p1=this.getCoords_(x1,y1),dx=p1.x-p0.x,dy=p1.y-p0.y;angle=180*Math.atan2(dx,dy)/Math.PI,0>angle&&(angle+=360),1e-6>angle&&(angle=0)}else{var p0=this.getCoords_(fillStyle.x0_,fillStyle.y0_),width=max.x-min.x,height=max.y-min.y;focus={x:(p0.x-min.x)/width,y:(p0.y-min.y)/height},width/=this.arcScaleX_*Z,height/=this.arcScaleY_*Z;var dimension=m.max(width,height);shift=2*fillStyle.r0_/dimension,expansion=2*fillStyle.r1_/dimension-shift}var stops=fillStyle.colors_;stops.sort(function(cs1,cs2){return cs1.offset-cs2.offset});for(var length=stops.length,color1=stops[0].color,color2=stops[length-1].color,opacity1=stops[0].alpha*this.globalAlpha,opacity2=stops[length-1].alpha*this.globalAlpha,colors=[],i=0;length>i;i++){var stop=stops[i];colors.push(stop.offset*expansion+shift+" "+stop.color)}lineStr.push('<g_vml_:fill type="',fillStyle.type_,'"',' method="none" focus="100%"',' color="',color1,'"',' color2="',color2,'"',' colors="',colors.join(","),'"',' opacity="',opacity2,'"',' g_o_:opacity2="',opacity1,'"',' angle="',angle,'"',' focusposition="',focus.x,",",focus.y,'" />')}else lineStr.push('<g_vml_:fill color="',color,'" opacity="',opacity,'" />');else{var lineWidth=this.lineScale_*this.lineWidth;1>lineWidth&&(opacity*=lineWidth),lineStr.push("<g_vml_:stroke",' opacity="',opacity,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',processLineCap(this.lineCap),'"',' weight="',lineWidth,'px"',' color="',color,'" />')}lineStr.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",lineStr.join(""))},contextPrototype.fill=function(){this.stroke(!0)},contextPrototype.closePath=function(){this.currentPath_.push({type:"close"})},contextPrototype.getCoords_=function(aX,aY){var m=this.m_;return{x:Z*(aX*m[0][0]+aY*m[1][0]+m[2][0])-Z2,y:Z*(aX*m[0][1]+aY*m[1][1]+m[2][1])-Z2}},contextPrototype.save=function(){var o={};copyState(this,o),this.aStack_.push(o),this.mStack_.push(this.m_),this.m_=matrixMultiply(createMatrixIdentity(),this.m_)},contextPrototype.restore=function(){copyState(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},contextPrototype.translate=function(aX,aY){var m1=[[1,0,0],[0,1,0],[aX,aY,1]];setM(this,matrixMultiply(m1,this.m_),!1)},contextPrototype.rotate=function(aRot){var c=mc(aRot),s=ms(aRot),m1=[[c,s,0],[-s,c,0],[0,0,1]];setM(this,matrixMultiply(m1,this.m_),!1)},contextPrototype.scale=function(aX,aY){this.arcScaleX_*=aX,this.arcScaleY_*=aY;var m1=[[aX,0,0],[0,aY,0],[0,0,1]];setM(this,matrixMultiply(m1,this.m_),!0)},contextPrototype.transform=function(m11,m12,m21,m22,dx,dy){var m1=[[m11,m12,0],[m21,m22,0],[dx,dy,1]];setM(this,matrixMultiply(m1,this.m_),!0)},contextPrototype.setTransform=function(m11,m12,m21,m22,dx,dy){var m=[[m11,m12,0],[m21,m22,0],[dx,dy,1]];setM(this,m,!0)},contextPrototype.clip=function(){},contextPrototype.arcTo=function(){},contextPrototype.createPattern=function(){return new CanvasPattern_},CanvasGradient_.prototype.addColorStop=function(aOffset,aColor){aColor=processStyle(aColor),this.colors_.push({offset:aOffset,color:aColor.color,alpha:aColor.alpha})},G_vmlCanvasManager=G_vmlCanvasManager_,CanvasRenderingContext2D=CanvasRenderingContext2D_,CanvasGradient=CanvasGradient_,CanvasPattern=CanvasPattern_}();